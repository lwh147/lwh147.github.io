(function(t){function e(e){for(var n,o,a=e[0],l=e[1],u=e[2],c=0,p=[];c<a.length;c++)o=a[c],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&p.push(s[o][0]),s[o]=0;for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(t[n]=l[n]);h&&h(e);while(p.length)p.shift()();return r.push.apply(r,u||[]),i()}function i(){for(var t,e=0;e<r.length;e++){for(var i=r[e],n=!0,a=1;a<i.length;a++){var l=i[a];0!==s[l]&&(n=!1)}n&&(r.splice(e--,1),t=o(o.s=i[0]))}return t}var n={},s={app:0},r=[];function o(e){if(n[e])return n[e].exports;var i=n[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,o),i.l=!0,i.exports}o.m=t,o.c=n,o.d=function(t,e,i){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(o.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(i,n,function(e){return t[e]}.bind(null,n));return i},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],l=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var h=l;r.push([0,"chunk-vendors"]),i()})({0:function(t,e,i){t.exports=i("56d7")},"56d7":function(t,e,i){"use strict";i.r(e);i("e260"),i("e6cf"),i("cca6"),i("a79d");var n=i("2b0e"),s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("div",{attrs:{id:"page-body"}},[i("show-down",{attrs:{url:"README.md","highlight-style":"arta"}})],1),i("music-player",{attrs:{fixed:!0,server:"netease",type:"playlist",id:"905974655"}}),i("spring-loader",{attrs:{id:"loader",theme:"white",show:t.springLoaderShow}})],1)},r=[],o=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"content-markdwon"}})])}],l=i("ca0f"),u=i.n(l),h=(i("8f5a"),i("1487")),c=i.n(h),p=(i("d3b7"),i("bc3a")),d=i.n(p),g=d.a.create({baseURL:""});g.interceptors.response.use((function(t){var e=t.data;return console.log("拦截到响应："+e),e}),(function(t){return console.log("拦截到响应："+t),Promise.reject(t)}));var f=g,_={name:"ShowMarkDown",props:{markdown:{type:String,default:"# 这是一个例子"},url:{type:String},highlight:{type:Boolean,default:!0}},watch:{markdown:function(){this.init()},url:function(){this.init()},highlight:function(){this.init()}},data:function(){return{}},mounted:function(){this.init()},methods:{init:function(){this.$props.url?this.getDocment(this.$props.url):(this.compileMarkDown(this.$props.markdown),this.$props.highlight&&c.a.highlightAll())},compileMarkDown:function(t){var e=new u.a.Converter;e.setOption("tables",!0),document.getElementById("content-markdwon").innerHTML=e.makeHtml(t)},getDocment:function(t){var e=this;f(t).then((function(t){e.compileMarkDown(t),e.$props.highlight&&c.a.highlightAll()}))}}},m=_,v=i("2877"),y=Object(v["a"])(m,o,a,!1,null,null,null),S=y.exports,w=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},b=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"aplayer"}})])}],E=i("b85c"),A=i("5530"),R=(i("a9e3"),i("c7cd"),i("159b"),i("ddb0"),i("25f0"),i("4d63"),i("ac1f"),i("5319"),i("764d"),i("9f61")),T=i.n(R),C={name:"MusicPlayer",props:{server:{type:String},type:{type:String},id:{type:String},api:{type:String},auth:{type:String},auto:{type:String},audio:{type:Array},mini:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1},autoplay:{type:Boolean,default:!1},theme:{type:String,default:"#b7daff"},loop:{type:String,default:"all"},order:{type:String,default:"list"},preload:{type:String,default:"auto"},volume:{type:Number,default:.7},mutex:{type:Boolean,default:!0},lrcType:{type:Number,default:3},listFolded:{type:Boolean,default:!1},listMaxHeight:{type:String,default:"200px"},storageName:{type:String,default:"music-player-setting"}},data:function(){return{constraints:{musicPlatform:["netease","tencent","xiami","kugou","baidu"],supportedMusicLink:["netease","tencent","xiami"],autoParseRules:[["music.163.com.*song.*id=(\\d+)","netease","song"],["music.163.com.*album.*id=(\\d+)","netease","album"],["music.163.com.*artist.*id=(\\d+)","netease","artist"],["music.163.com.*playlist.*id=(\\d+)","netease","playlist"],["music.163.com.*discover/toplist.*id=(\\d+)","netease","playlist"],["y.qq.com.*song/(\\w+).html","tencent","song"],["y.qq.com.*album/(\\w+).html","tencent","album"],["y.qq.com.*singer/(\\w+).html","tencent","artist"],["y.qq.com.*playsquare/(\\w+).html","tencent","playlist"],["y.qq.com.*playlist/(\\w+).html","tencent","playlist"],["xiami.com.*song/(\\w+)","xiami","song"],["xiami.com.*album/(\\w+)","xiami","album"],["xiami.com.*artist/(\\w+)","xiami","artist"],["xiami.com.*collect/(\\w+)","xiami","playlist"]],type:["song","playlist","album","search","artist"],keys:["server","type","id","api","auth","auto","audio"],defaultApi:"https://api.i-meto.com/meting/api?server=:server&type=:type&id=:id&r=:r",logPrefix:"MusicPlayer - "},finalApi:{},config:{},meta:{},options:{},aplayer:null}},mounted:function(){this.init()},methods:{init:function(){var t=this;if(this.config=Object(A["a"])({},this.$props),this.config["fixed"]){if(this.config.mini)throw new Error(this.constraints.logPrefix+"吸底模式和mini模式只能二选一 ！");delete this.config["mini"]}else this.config.mini||delete this.config.mini,delete this.config["fixed"];if(this.constraints.keys.forEach((function(e){t.meta[e]=t.config[e],delete t.config[e]})),this.meta.audio)return this.options=Object(A["a"])({audio:this.meta.audio},this.config),void this.loadAPlayer();this.finalApi=this.meta.api||this.constraints.defaultApi,this.meta.auto&&this.parseCustomizedLink(),this.parse()},parseCustomizedLink:function(){var t,e=Object(E["a"])(this.constraints.autoParseRules);try{for(e.s();!(t=e.n()).done;){var i=t.value,n=new RegExp(i[0]),s=n.exec(this.meta.auto);if(null!==s)return this.meta.server=i[1],this.meta.type=i[2],void(this.meta.id=s[1])}}catch(r){e.e(r)}finally{e.f()}throw new Error(this.constraints.logPrefix+"目前支持歌单url识别的平台："+this.constraints.supportedMusicLink.toString()+" !")},parse:function(){var t=this;if(!this.meta.server||!this.meta.type||!this.meta.id)throw new Error(this.constraints.logPrefix+"请按规则填写组件属性参数 !");var e=this.finalApi.replace(":server",this.meta.server).replace(":type",this.meta.type).replace(":id",this.meta.id).replace(":auth",this.meta.auth||"").replace(":r",Math.random());fetch(e).then((function(t){return t.json()})).then((function(e){t.options=Object(A["a"])({audio:e},t.config),t.loadAPlayer()}))},loadAPlayer:function(){this.options.container=document.getElementById("aplayer"),this.aplayer=new T.a(this.options)}}},I=C,x=(i("617a"),Object(v["a"])(I,w,b,!1,null,"e64ca8a0",null)),M=x.exports,O=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},V=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{attrs:{id:"spring-loader"}})])}],P=(i("4ec9"),i("3ca3"),i("d81d"),i("b765")),k={name:"SpringLoader",props:{theme:{type:String,default:"white"},show:{required:!0,type:Boolean,default:!1}},watch:{show:function(){this.init()}},data:function(){var t=new Map;return t.set("white",0),t.set("black",1),t.set("green",2),t.set("purple",3),t.set("yellow",4),t.set("red",5),{constraints:{},map:t,settings:[{rebound:{tension:16,friction:5},spinner:{id:"spinner",radius:90,sides:3,depth:4,colors:{background:"#f0f0f0",stroke:"#272633",base:null,child:"#272633"},alwaysForward:!0,restAt:.5,renderBase:!1}},{rebound:{tension:10,friction:7},spinner:{id:"spinner",radius:150,sides:8,depth:6,colors:{background:"#181818",stroke:"#D23232",base:null,child:"#181818"},alwaysForward:!0,restAt:null,renderBase:!1}},{instances:{spring:null,spinner:null},rebound:{tension:50,friction:8},spinner:{radius:80,sides:4,depth:3,colors:{background:"#58CA6B",stroke:"#000000",base:null,child:"#58CA6B"},alwaysForward:!0,restAt:.5,renderBase:!1}},{instances:{spring:null,spinner:null},rebound:{tension:13,friction:10},spinner:{radius:80,sides:4,depth:3,colors:{background:"#673AB7",stroke:"#000",base:null,child:"#6F4DAB"},alwaysForward:!1,restAt:null,renderBase:!1}},{instances:{spring:null,spinner:null},rebound:{tension:15,friction:10},spinner:{radius:80,sides:6,depth:5,colors:{background:"#FFC107",stroke:null,base:null,child:"#222"},alwaysForward:!1,restAt:.5,renderBase:!1}},{instances:{spring:null,spinner:null},rebound:{tension:10,friction:10},spinner:{radius:70,sides:4,depth:8,colors:{background:"#EC4141",stroke:"#222",base:"#222",child:"#EC4141"},alwaysForward:!0,restAt:null,renderBase:!0}}]}},mounted:function(){P["a"].settings=this.settings[this.map.get(this.$props.theme)],this.init()},methods:{init:function(){this.$props.show?P["a"].init():this.stop()},stop:function(){var t=document.getElementsByTagName("canvas")[0];t&&t.remove()}}},F=k,L=Object(v["a"])(F,O,V,!1,null,"eac2a9c2",null),B=L.exports,D={name:"App",components:{SpringLoader:B,MusicPlayer:M,ShowDown:S},data:function(){return{springLoaderShow:!0}},mounted:function(){this.init()},methods:{init:function(){var t=this;setTimeout((function(){t.springLoaderShow=!1}),300)}}},j=D,q=(i("5c0b"),Object(v["a"])(j,s,r,!1,null,null,null)),$=q.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t($)}}).$mount("#app")},"5c0b":function(t,e,i){"use strict";i("9c0c")},"617a":function(t,e,i){"use strict";i("bf6b")},"9c0c":function(t,e,i){},b765:function(t,e,i){"use strict";(function(t){i("99af"),i("fb6a"),i("a434"),i("5319"),i("ac1f"),i("466d"),i("d3b7"),i("25f0"),i("130f"),i("159b"),i("cb29");(function(){var e={},i=e.util={},n=Array.prototype.concat,s=Array.prototype.slice;i.bind=function(t,e){var i=s.call(arguments,2);return function(){t.apply(e,n.call(i,s.call(arguments)))}},i.extend=function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};var r=e.SpringSystem=function(t){this._springRegistry={},this._activeSprings=[],this.listeners=[],this._idleSpringIndices=[],this.looper=t||new u,this.looper.springSystem=this};i.extend(r.prototype,{_springRegistry:null,_isIdle:!0,_lastTimeMillis:-1,_activeSprings:null,listeners:null,_idleSpringIndices:null,setLooper:function(t){this.looper=t,t.springSystem=this},createSpring:function(t,e){var i;return i=void 0===t||void 0===e?l.DEFAULT_ORIGAMI_SPRING_CONFIG:l.fromOrigamiTensionAndFriction(t,e),this.createSpringWithConfig(i)},createSpringWithBouncinessAndSpeed:function(t,e){var i;return i=void 0===t||void 0===e?l.DEFAULT_ORIGAMI_SPRING_CONFIG:l.fromBouncinessAndSpeed(t,e),this.createSpringWithConfig(i)},createSpringWithConfig:function(t){var e=new o(this);return this.registerSpring(e),e.setSpringConfig(t),e},getIsIdle:function(){return this._isIdle},getSpringById:function(t){return this._springRegistry[t]},getAllSprings:function(){var t=[];for(var e in this._springRegistry)this._springRegistry.hasOwnProperty(e)&&t.push(this._springRegistry[e]);return t},registerSpring:function(t){this._springRegistry[t.getId()]=t},deregisterSpring:function(t){f(this._activeSprings,t),delete this._springRegistry[t.getId()]},advance:function(t,e){while(this._idleSpringIndices.length>0)this._idleSpringIndices.pop();for(var i=0,n=this._activeSprings.length;i<n;i++){var s=this._activeSprings[i];s.systemShouldAdvance()?s.advance(t/1e3,e/1e3):this._idleSpringIndices.push(this._activeSprings.indexOf(s))}while(this._idleSpringIndices.length>0){var r=this._idleSpringIndices.pop();r>=0&&this._activeSprings.splice(r,1)}},loop:function(t){var e;-1===this._lastTimeMillis&&(this._lastTimeMillis=t-1);var i=t-this._lastTimeMillis;this._lastTimeMillis=t;var n=0,s=this.listeners.length;for(n=0;n<s;n++)e=this.listeners[n],e.onBeforeIntegrate&&e.onBeforeIntegrate(this);for(this.advance(t,i),0===this._activeSprings.length&&(this._isIdle=!0,this._lastTimeMillis=-1),n=0;n<s;n++)e=this.listeners[n],e.onAfterIntegrate&&e.onAfterIntegrate(this);this._isIdle||this.looper.run()},activateSpring:function(t){var e=this._springRegistry[t];-1==this._activeSprings.indexOf(e)&&this._activeSprings.push(e),this.getIsIdle()&&(this._isIdle=!1,this.looper.run())},addListener:function(t){this.listeners.push(t)},removeListener:function(t){f(this.listeners,t)},removeAllListeners:function(){this.listeners=[]}});var o=e.Spring=function t(e){this._id="s"+t._ID++,this._springSystem=e,this.listeners=[],this._currentState=new a,this._previousState=new a,this._tempState=new a};i.extend(o,{_ID:0,MAX_DELTA_TIME_SEC:.064,SOLVER_TIMESTEP_SEC:.001}),i.extend(o.prototype,{_id:0,_springConfig:null,_overshootClampingEnabled:!1,_currentState:null,_previousState:null,_tempState:null,_startValue:0,_endValue:0,_wasAtRest:!0,_restSpeedThreshold:.001,_displacementFromRestThreshold:.001,listeners:null,_timeAccumulator:0,_springSystem:null,destroy:function(){this.listeners=[],this.frames=[],this._springSystem.deregisterSpring(this)},getId:function(){return this._id},setSpringConfig:function(t){return this._springConfig=t,this},getSpringConfig:function(){return this._springConfig},setCurrentValue:function(t,e){return this._startValue=t,this._currentState.position=t,e||this.setAtRest(),this.notifyPositionUpdated(!1,!1),this},getStartValue:function(){return this._startValue},getCurrentValue:function(){return this._currentState.position},getCurrentDisplacementDistance:function(){return this.getDisplacementDistanceForState(this._currentState)},getDisplacementDistanceForState:function(t){return Math.abs(this._endValue-t.position)},setEndValue:function(t){if(this._endValue==t&&this.isAtRest())return this;this._startValue=this.getCurrentValue(),this._endValue=t,this._springSystem.activateSpring(this.getId());for(var e=0,i=this.listeners.length;e<i;e++){var n=this.listeners[e],s=n.onSpringEndStateChange;s&&s(this)}return this},getEndValue:function(){return this._endValue},setVelocity:function(t){return t===this._currentState.velocity||(this._currentState.velocity=t,this._springSystem.activateSpring(this.getId())),this},getVelocity:function(){return this._currentState.velocity},setRestSpeedThreshold:function(t){return this._restSpeedThreshold=t,this},getRestSpeedThreshold:function(){return this._restSpeedThreshold},setRestDisplacementThreshold:function(t){this._displacementFromRestThreshold=t},getRestDisplacementThreshold:function(){return this._displacementFromRestThreshold},setOvershootClampingEnabled:function(t){return this._overshootClampingEnabled=t,this},isOvershootClampingEnabled:function(){return this._overshootClampingEnabled},isOvershooting:function(){var t=this._startValue,e=this._endValue;return this._springConfig.tension>0&&(t<e&&this.getCurrentValue()>e||t>e&&this.getCurrentValue()<e)},advance:function(t,e){var i=this.isAtRest();if(!i||!this._wasAtRest){var n=e;e>o.MAX_DELTA_TIME_SEC&&(n=o.MAX_DELTA_TIME_SEC),this._timeAccumulator+=n;var s,r,a,l,u,h,c,p,d,g,f=this._springConfig.tension,_=this._springConfig.friction,m=this._currentState.position,v=this._currentState.velocity,y=this._tempState.position,S=this._tempState.velocity;while(this._timeAccumulator>=o.SOLVER_TIMESTEP_SEC)this._timeAccumulator-=o.SOLVER_TIMESTEP_SEC,this._timeAccumulator<o.SOLVER_TIMESTEP_SEC&&(this._previousState.position=m,this._previousState.velocity=v),s=v,r=f*(this._endValue-y)-_*v,y=m+s*o.SOLVER_TIMESTEP_SEC*.5,S=v+r*o.SOLVER_TIMESTEP_SEC*.5,a=S,l=f*(this._endValue-y)-_*S,y=m+a*o.SOLVER_TIMESTEP_SEC*.5,S=v+l*o.SOLVER_TIMESTEP_SEC*.5,u=S,h=f*(this._endValue-y)-_*S,y=m+u*o.SOLVER_TIMESTEP_SEC*.5,S=v+h*o.SOLVER_TIMESTEP_SEC*.5,c=S,p=f*(this._endValue-y)-_*S,d=1/6*(s+2*(a+u)+c),g=1/6*(r+2*(l+h)+p),m+=d*o.SOLVER_TIMESTEP_SEC,v+=g*o.SOLVER_TIMESTEP_SEC;this._tempState.position=y,this._tempState.velocity=S,this._currentState.position=m,this._currentState.velocity=v,this._timeAccumulator>0&&this._interpolate(this._timeAccumulator/o.SOLVER_TIMESTEP_SEC),(this.isAtRest()||this._overshootClampingEnabled&&this.isOvershooting())&&(this._springConfig.tension>0?(this._startValue=this._endValue,this._currentState.position=this._endValue):(this._endValue=this._currentState.position,this._startValue=this._endValue),this.setVelocity(0),i=!0);var w=!1;this._wasAtRest&&(this._wasAtRest=!1,w=!0);var b=!1;i&&(this._wasAtRest=!0,b=!0),this.notifyPositionUpdated(w,b)}},notifyPositionUpdated:function(t,e){for(var i=0,n=this.listeners.length;i<n;i++){var s=this.listeners[i];t&&s.onSpringActivate&&s.onSpringActivate(this),s.onSpringUpdate&&s.onSpringUpdate(this),e&&s.onSpringAtRest&&s.onSpringAtRest(this)}},systemShouldAdvance:function(){return!this.isAtRest()||!this.wasAtRest()},wasAtRest:function(){return this._wasAtRest},isAtRest:function(){return Math.abs(this._currentState.velocity)<this._restSpeedThreshold&&(this.getDisplacementDistanceForState(this._currentState)<=this._displacementFromRestThreshold||0===this._springConfig.tension)},setAtRest:function(){return this._endValue=this._currentState.position,this._tempState.position=this._currentState.position,this._currentState.velocity=0,this},_interpolate:function(t){this._currentState.position=this._currentState.position*t+this._previousState.position*(1-t),this._currentState.velocity=this._currentState.velocity*t+this._previousState.velocity*(1-t)},getListeners:function(){return this.listeners},addListener:function(t){return this.listeners.push(t),this},removeListener:function(t){return f(this.listeners,t),this},removeAllListeners:function(){return this.listeners=[],this},currentValueIsApproximately:function(t){return Math.abs(this.getCurrentValue()-t)<=this.getRestDisplacementThreshold()}});var a=function(){};i.extend(a.prototype,{position:0,velocity:0});var l=e.SpringConfig=function(t,e){this.tension=t,this.friction=e},u=e.AnimationLooper=function(){this.springSystem=null;var t=this,e=function(){t.springSystem.loop(Date.now())};this.run=function(){i.onFrame(e)}};e.SimulationLooper=function(t){this.springSystem=null;var e=0,i=!1;t=t||16.667,this.run=function(){if(!i){i=!0;while(!this.springSystem.getIsIdle())this.springSystem.loop(e+=t);i=!1}}},e.SteppingSimulationLooper=function(t){this.springSystem=null;var e=0;this.run=function(){},this.step=function(t){this.springSystem.loop(e+=t)}};var h=e.OrigamiValueConverter={tensionFromOrigamiValue:function(t){return 3.62*(t-30)+194},origamiValueFromTension:function(t){return(t-194)/3.62+30},frictionFromOrigamiValue:function(t){return 3*(t-8)+25},origamiFromFriction:function(t){return(t-25)/3+8}},c=e.BouncyConversion=function(t,e){this.bounciness=t,this.speed=e;var i=this.normalize(t/1.7,0,20);i=this.projectNormal(i,0,.8);var n=this.normalize(e/1.7,0,20);this.bouncyTension=this.projectNormal(n,.5,200),this.bouncyFriction=this.quadraticOutInterpolation(i,this.b3Nobounce(this.bouncyTension),.01)};i.extend(c.prototype,{normalize:function(t,e,i){return(t-e)/(i-e)},projectNormal:function(t,e,i){return e+t*(i-e)},linearInterpolation:function(t,e,i){return t*i+(1-t)*e},quadraticOutInterpolation:function(t,e,i){return this.linearInterpolation(2*t-t*t,e,i)},b3Friction1:function(t){return 7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28},b3Friction2:function(t){return 44e-6*Math.pow(t,3)-.006*Math.pow(t,2)+.36*t+2},b3Friction3:function(t){return 45e-8*Math.pow(t,3)-332e-6*Math.pow(t,2)+.1078*t+5.84},b3Nobounce:function(t){var e=0;return e=t<=18?this.b3Friction1(t):t>18&&t<=44?this.b3Friction2(t):this.b3Friction3(t),e}}),i.extend(l,{fromOrigamiTensionAndFriction:function(t,e){return new l(h.tensionFromOrigamiValue(t),h.frictionFromOrigamiValue(e))},fromBouncinessAndSpeed:function(t,i){var n=new e.BouncyConversion(t,i);return this.fromOrigamiTensionAndFriction(n.bouncyTension,n.bouncyFriction)},coastingConfigWithOrigamiFriction:function(t){return new l(0,h.frictionFromOrigamiValue(t))}}),l.DEFAULT_ORIGAMI_SPRING_CONFIG=l.fromOrigamiTensionAndFriction(40,7),i.extend(l.prototype,{friction:0,tension:0});var p={};i.hexToRGB=function(t){if(p[t])return p[t];t=t.replace("#",""),3===t.length&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]);var e=t.match(/.{2}/g),i={r:parseInt(e[0],16),g:parseInt(e[1],16),b:parseInt(e[2],16)};return p[t]=i,i},i.rgbToHex=function(t,e,i){return t=t.toString(16),e=e.toString(16),i=i.toString(16),t=t.length<2?"0"+t:t,e=e.length<2?"0"+e:e,i=i.length<2?"0"+i:i,"#"+t+e+i};var d,g=e.MathUtil={mapValueInRange:function(t,e,i,n,s){var r=i-e,o=s-n,a=(t-e)/r;return n+a*o},interpolateColor:function(t,e,n,s,r,o){s=void 0===s?0:s,r=void 0===r?1:r,e=i.hexToRGB(e),n=i.hexToRGB(n);var a=Math.floor(i.mapValueInRange(t,s,r,e.r,n.r)),l=Math.floor(i.mapValueInRange(t,s,r,e.g,n.g)),u=Math.floor(i.mapValueInRange(t,s,r,e.b,n.b));return o?"rgb("+a+","+l+","+u+")":i.rgbToHex(a,l,u)},degreesToRadians:function(t){return t*Math.PI/180},radiansToDegrees:function(t){return 180*t/Math.PI}};function f(t,e){var i=t.indexOf(e);-1!=i&&t.splice(i,1)}i.extend(i,g),"undefined"!==typeof window&&(d=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}),d||"undefined"===typeof t||"node"!==t.title||(d=setImmediate),i.onFrame=function(t){return d(t)},"undefined"!=typeof exports?i.extend(exports,e):"undefined"!=typeof window&&(window.rebound=e)})();var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?100:arguments[0],i=arguments.length<=1||void 0===arguments[1]?3:arguments[1],n=arguments.length<=2||void 0===arguments[2]?0:arguments[2],s=arguments[3];r(this,t),this._radius=e,this._sides=i,this._depth=n,this._colors=s,this._x=0,this._y=0,this.rotation=0,this.scale=1,this.points=this._getRegularPolygonPoints()}return n(t,[{key:"_getRegularPolygonPoints",value:function(){var t=[],e=0;while(e<this._sides){var i=-this._radius*Math.sin(2*e*Math.PI/this._sides),n=this._radius*Math.cos(2*e*Math.PI/this._sides);t.push({x:i,y:n}),e++}return t}},{key:"_getInscribedPoints",value:function(t,e){var i=this,n=[];return t.forEach((function(s,r){var o=s,a=t[r+1];a||(a=t[0]);var l=i._getInterpolatedPoint(o,a,e);n.push(l)})),n}},{key:"_getInterpolatedPoint",value:function(t,e,i){var n=t.x,s=t.y,r=e.x,o=e.y,a=n+(r-n)*i,l=s+(o-s)*i;return{x:a,y:l}}},{key:"_getUpdatedChildren",value:function(t){for(var e=[],i=0;i<this._depth;i++){var n=e[i-1]||this.points,s=this._getInscribedPoints(n,t);e.push(s)}return e}},{key:"renderChildren",value:function(t,e){var i=this,n=this._getUpdatedChildren(e);n.forEach((function(e,s){t.beginPath(),e.forEach((function(e){return t.lineTo(e.x,e.y)})),t.closePath();var r=i._colors.stroke,o=i._colors.child;if(r&&(t.strokeStyle=r,t.stroke()),o){var a=rebound.util.hexToRGB(o),l=1/n.length,u=l+l*s,h="rgba("+a.r+", "+a.g+", "+a.b+", "+u+")";t.fillStyle=h,t.shadowColor="rgba(0,0,0, 0.1)",t.shadowBlur=10,t.shadowOffsetX=0,t.shadowOffsetY=0,t.fill()}}))}},{key:"render",value:function(t){t.save(),t.translate(this._x,this._y),0!==this.rotation&&t.rotate(rebound.MathUtil.degreesToRadians(this.rotation)),1!==this.scale&&t.scale(this.scale,this.scale),t.beginPath(),this.points.forEach((function(e){return t.lineTo(e.x,e.y)})),t.closePath();var e=this._colors.stroke,i=this._colors.base;e&&(t.strokeStyle=e,t.stroke()),i&&(t.fillStyle=i,t.fill()),t.restore()}}]),t}();n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(e){r(this,t);e.id;var i=e.radius,n=e.sides,o=e.depth,a=e.colors,l=e.alwaysForward,u=e.restAt,h=e.renderBase;n<3&&(console.warn("At least 3 sides required."),n=3),this._canvas=document.createElement("canvas"),this._canvas.style.backgroundColor=a.background,this._canvasW=null,this._canvasH=null,this._canvasOpacity=1,this._centerX=null,this._centerY=null,this._alwaysForward=l,this._restThreshold=u,this._renderBase=h,this._springRangeLow=0,this._springRangeHigh=this._restThreshold||1,this._basePolygon=new s(i,n,o,a),this._progress=0,this._isAutoSpin=null,this._isCompleting=null}return n(t,[{key:"init",value:function(t,e){this._addCanvas(),this._spring=t,this._addSpringListener(),this._isAutoSpin=e,e?this._spin():(this._spring.setEndValue(0),this.render())}},{key:"_addCanvas",value:function(){document.body.appendChild(this._canvas),this._context=this._canvas.getContext("2d"),this._setCanvasSize()}},{key:"_setCanvasSize",value:function(){this._canvasW=this._canvas.width=window.innerWidth,this._canvasH=this._canvas.height=window.innerHeight,this._canvas.style.position="fixed",this._canvas.style.top=0,this._canvas.style.left=0,this._centerX=this._canvasW/2,this._centerY=this._canvasH/2}},{key:"_addSpringListener",value:function(){var t=this;this._spring.addListener({onSpringUpdate:function(e){var i=e.getCurrentValue(),n=0,s=1,r=t._springRangeLow,o=t._springRangeHigh;i=rebound.MathUtil.mapValueInRange(i,n,s,r,o),t.render(i)}})}},{key:"setComplete",value:function(){this._isCompleting=!0}},{key:"_completeAnimation",value:function(){this._canvasOpacity-=.1,this._canvas.style.opacity=this._canvasOpacity,this._canvasOpacity<=0&&(this._isAutoSpin=!1,this._spring.setAtRest(),this._canvas.remove())}},{key:"_spin",value:function(){if(this._alwaysForward){var t=this._spring.getCurrentValue();this._restThreshold&&1===t&&this._switchSpringRange(),1===t&&this._spring.setCurrentValue(0).setAtRest()}this._spring.setEndValue(1===this._spring.getCurrentValue()?0:1)}},{key:"_switchSpringRange",value:function(){var t=this._restThreshold;this._springRangeLow=this._springRangeLow===t?0:t,this._springRangeHigh=this._springRangeHigh===t?1:t}},{key:"render",value:function(t){t&&(this._progress=Math.round(1e4*t)/1e4),this._isAutoSpin&&this._spring.isAtRest()&&this._spin(),this._isCompleting&&this._completeAnimation(),this._context.clearRect(0,0,this._canvasW,this._canvasH),this._context.save(),this._context.translate(this._centerX,this._centerY),this._context.lineWidth=1.5,this._renderBase&&this._basePolygon.render(this._context),this._basePolygon.renderChildren(this._context,this._progress),this._context.restore()}}]),t}(),a={settings:{},spring:null,spinner:null,initRebound:function(){var t=a.settings.rebound,e=new rebound.SpringSystem;a.spring=e.createSpring(t.tension,t.friction)},initSpinner:function(){var t=a.settings.spinner;a.spinner=new o(t)},init:function(){var t=!0;a.initRebound(),a.initSpinner(),a.spinner.init(a.spring,t),t?setTimeout((function(){a.spinner.setComplete()}),6e3):a.loadSomething()},loadSomething:function(){var t=new XMLHttpRequest;t.addEventListener("progress",(function(t){if(t.lengthComputable){var e=Math.ceil(t.loaded/t.total*100);console.log("ajax loding percent",e),a.spring.setEndValue(.01*e)}})),t.addEventListener("load",(function(t){a.spinner.setComplete()})),t.open("GET","/img/something.jpg"),t.send()}};e["a"]=a}).call(this,i("4362"))},bf6b:function(t,e,i){}});
//# sourceMappingURL=app.abd1edfd.js.map