(function(b,a){typeof exports==="object"&&typeof module!=="undefined"?a(exports):typeof define==="function"&&define.amd?define(["exports"],a):(a((b.L={})))}(this,(function(aU){var aZ="1.6.0+HEAD.0c81bdf";var bi=Object.freeze;Object.freeze=function(dN){return dN};function cv(dP){var dQ,dO,dN,dR;for(dO=1,dN=arguments.length;dO<dN;dO++){dR=arguments[dO];for(dQ in dR){dP[dQ]=dR[dQ]}}return dP}var af=Object.create||(function(){function dN(){}return function(dO){dN.prototype=dO;return new dN()}})();function bY(dO,dP){var dQ=Array.prototype.slice;if(dO.bind){return dO.bind.apply(dO,dQ.call(arguments,1))}var dN=dQ.call(arguments,2);return function(){return dO.apply(dP,dN.length?dN.concat(dQ.call(arguments)):arguments)}}var X=0;function ah(dN){dN._leaflet_id=dN._leaflet_id||++X;return dN._leaflet_id}function cr(dS,dT,dR){var dQ,dP,dO,dN;dN=function(){dQ=false;if(dP){dO.apply(dR,dP);dP=false}};dO=function(){if(dQ){dP=arguments}else{dS.apply(dR,arguments);setTimeout(dN,dT);dQ=true}};return dO}function V(dO,dP,dR){var dN=dP[1],dQ=dP[0],dS=dN-dQ;return dO===dN&&dR?dO:((dO-dQ)%dS+dS)%dS+dQ}function cO(){return false}function bs(dN,dP){var dO=Math.pow(10,(dP===undefined?6:dP));return Math.round(dN*dO)/dO}function aG(dN){return dN.trim?dN.trim():dN.replace(/^\s+|\s+$/g,"")}function g(dN){return aG(dN).split(/\s+/)}function ca(dP,dN){if(!dP.hasOwnProperty("options")){dP.options=dP.options?af(dP.options):{}}for(var dO in dN){dP.options[dO]=dN[dO]}return dP.options}function bo(dQ,dN,dO){var dR=[];for(var dP in dQ){dR.push(encodeURIComponent(dO?dP.toUpperCase():dP)+"="+encodeURIComponent(dQ[dP]))}return((!dN||dN.indexOf("?")===-1)?"?":"&")+dR.join("&")}var dL=/\{ *([\w_-]+) *\}/g;function bq(dO,dN){return dO.replace(dL,function(dR,dP){var dQ=dN[dP];if(dQ===undefined){throw new Error("No value provided for variable "+dR)}else{if(typeof dQ==="function"){dQ=dQ(dN)}}return dQ})}var bj=Array.isArray||function(dN){return(Object.prototype.toString.call(dN)==="[object Array]")};function dA(dP,dO){for(var dN=0;dN<dP.length;dN++){if(dP[dN]===dO){return dN}}return -1}var I="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function cB(dN){return window["webkit"+dN]||window["moz"+dN]||window["ms"+dN]}var dd=0;function cV(dN){var dP=+new Date(),dO=Math.max(0,16-(dP-dd));dd=dP+dO;return window.setTimeout(dN,dO)}var bE=window.requestAnimationFrame||cB("RequestAnimationFrame")||cV;var b=window.cancelAnimationFrame||cB("CancelAnimationFrame")||cB("CancelRequestAnimationFrame")||function(dN){window.clearTimeout(dN)};function dE(dP,dO,dN){if(dN&&bE===cV){dP.call(dO)}else{return bE.call(window,bY(dP,dO))}}function cY(dN){if(dN){b.call(window,dN)}}var bP=(Object.freeze||Object)({freeze:bi,extend:cv,create:af,bind:bY,lastId:X,stamp:ah,throttle:cr,wrapNum:V,falseFn:cO,formatNum:bs,trim:aG,splitWords:g,setOptions:ca,getParamString:bo,template:bq,isArray:bj,indexOf:dA,emptyImageUrl:I,requestFn:bE,cancelFn:b,requestAnimFrame:dE,cancelAnimFrame:cY});function bA(){}bA.extend=function(dO){var dR=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var dQ=dR.__super__=this.prototype;var dP=af(dQ);dP.constructor=dR;dR.prototype=dP;for(var dN in this){if(this.hasOwnProperty(dN)&&dN!=="prototype"&&dN!=="__super__"){dR[dN]=this[dN]}}if(dO.statics){cv(dR,dO.statics);delete dO.statics}if(dO.includes){u(dO.includes);cv.apply(null,[dP].concat(dO.includes));delete dO.includes}if(dP.options){dO.options=cv(af(dP.options),dO.options)}cv(dP,dO);dP._initHooks=[];dP.callInitHooks=function(){if(this._initHooksCalled){return}if(dQ.callInitHooks){dQ.callInitHooks.call(this)}this._initHooksCalled=true;for(var dT=0,dS=dP._initHooks.length;dT<dS;dT++){dP._initHooks[dT].call(this)}};return dR};bA.include=function(dN){cv(this.prototype,dN);return this};bA.mergeOptions=function(dN){cv(this.prototype.options,dN);return this};bA.addInitHook=function(dO){var dN=Array.prototype.slice.call(arguments,1);var dP=typeof dO==="function"?dO:function(){this[dO].apply(this,dN)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(dP);return this};function u(dO){if(typeof L==="undefined"||!L||!L.Mixin){return}dO=bj(dO)?dO:[dO];for(var dN=0;dN<dO.length;dN++){if(dO[dN]===L.Mixin.Events){console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}}var cz={on:function(dQ,dS,dP){if(typeof dQ==="object"){for(var dR in dQ){this._on(dR,dQ[dR],dS)}}else{dQ=g(dQ);for(var dO=0,dN=dQ.length;dO<dN;dO++){this._on(dQ[dO],dS,dP)}}return this},off:function(dQ,dS,dP){if(!dQ){delete this._events}else{if(typeof dQ==="object"){for(var dR in dQ){this._off(dR,dQ[dR],dS)}}else{dQ=g(dQ);for(var dO=0,dN=dQ.length;dO<dN;dO++){this._off(dQ[dO],dS,dP)}}}return this},_on:function(dU,dT,dR){this._events=this._events||{};var dO=this._events[dU];if(!dO){dO=[];this._events[dU]=dO}if(dR===this){dR=undefined}var dP={fn:dT,ctx:dR},dS=dO;for(var dQ=0,dN=dS.length;dQ<dN;dQ++){if(dS[dQ].fn===dT&&dS[dQ].ctx===dR){return}}dS.push(dP)},_off:function(dT,dS,dQ){var dR,dP,dN;if(!this._events){return}dR=this._events[dT];if(!dR){return}if(!dS){for(dP=0,dN=dR.length;dP<dN;dP++){dR[dP].fn=cO}delete this._events[dT];return}if(dQ===this){dQ=undefined}if(dR){for(dP=0,dN=dR.length;dP<dN;dP++){var dO=dR[dP];if(dO.ctx!==dQ){continue}if(dO.fn===dS){dO.fn=cO;if(this._firingCount){this._events[dT]=dR=dR.slice()}dR.splice(dP,1);return}}}},fire:function(dS,dU,dO){if(!this.listens(dS,dO)){return this}var dT=cv({},dU,{type:dS,target:this,sourceTarget:dU&&dU.sourceTarget||this});if(this._events){var dR=this._events[dS];if(dR){this._firingCount=(this._firingCount+1)||1;for(var dQ=0,dN=dR.length;dQ<dN;dQ++){var dP=dR[dQ];dP.fn.call(dP.ctx||this,dT)}this._firingCount--}}if(dO){this._propagateEvent(dT)}return this},listens:function(dP,dN){var dO=this._events&&this._events[dP];if(dO&&dO.length){return true}if(dN){for(var dQ in this._eventParents){if(this._eventParents[dQ].listens(dP,dN)){return true}}}return false},once:function(dO,dR,dN){if(typeof dO==="object"){for(var dQ in dO){this.once(dQ,dO[dQ],dR)}return this}var dP=bY(function(){this.off(dO,dR,dN).off(dO,dP,dN)},this);return this.on(dO,dR,dN).on(dO,dP,dN)},addEventParent:function(dN){this._eventParents=this._eventParents||{};this._eventParents[ah(dN)]=dN;return this},removeEventParent:function(dN){if(this._eventParents){delete this._eventParents[ah(dN)]}return this},_propagateEvent:function(dN){for(var dO in this._eventParents){this._eventParents[dO].fire(dN.type,cv({layer:dN.target,propagatedFrom:dN.target},dN),true)}}};cz.addEventListener=cz.on;cz.removeEventListener=cz.clearAllEventListeners=cz.off;cz.addOneTimeEventListener=cz.once;cz.fireEvent=cz.fire;cz.hasEventListeners=cz.listens;var ck=bA.extend(cz);function c5(dN,dP,dO){this.x=(dO?Math.round(dN):dN);this.y=(dO?Math.round(dP):dP)}var ax=Math.trunc||function(dN){return dN>0?Math.floor(dN):Math.ceil(dN)};c5.prototype={clone:function(){return new c5(this.x,this.y)},add:function(dN){return this.clone()._add(cZ(dN))},_add:function(dN){this.x+=dN.x;this.y+=dN.y;return this},subtract:function(dN){return this.clone()._subtract(cZ(dN))},_subtract:function(dN){this.x-=dN.x;this.y-=dN.y;return this},divideBy:function(dN){return this.clone()._divideBy(dN)},_divideBy:function(dN){this.x/=dN;this.y/=dN;return this},multiplyBy:function(dN){return this.clone()._multiplyBy(dN)},_multiplyBy:function(dN){this.x*=dN;this.y*=dN;return this},scaleBy:function(dN){return new c5(this.x*dN.x,this.y*dN.y)},unscaleBy:function(dN){return new c5(this.x/dN.x,this.y/dN.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},trunc:function(){return this.clone()._trunc()},_trunc:function(){this.x=ax(this.x);this.y=ax(this.y);return this},distanceTo:function(dO){dO=cZ(dO);var dN=dO.x-this.x,dP=dO.y-this.y;return Math.sqrt(dN*dN+dP*dP)},equals:function(dN){dN=cZ(dN);return dN.x===this.x&&dN.y===this.y},contains:function(dN){dN=cZ(dN);return Math.abs(dN.x)<=Math.abs(this.x)&&Math.abs(dN.y)<=Math.abs(this.y)},toString:function(){return"Point("+bs(this.x)+", "+bs(this.y)+")"}};function cZ(dN,dP,dO){if(dN instanceof c5){return dN}if(bj(dN)){return new c5(dN[0],dN[1])}if(dN===undefined||dN===null){return dN}if(typeof dN==="object"&&"x" in dN&&"y" in dN){return new c5(dN.x,dN.y)}return new c5(dN,dP,dO)}function cs(dP,dO){if(!dP){return}var dR=dO?[dP,dO]:dP;for(var dQ=0,dN=dR.length;dQ<dN;dQ++){this.extend(dR[dQ])}}cs.prototype={extend:function(dN){dN=cZ(dN);if(!this.min&&!this.max){this.min=dN.clone();this.max=dN.clone()}else{this.min.x=Math.min(dN.x,this.min.x);this.max.x=Math.max(dN.x,this.max.x);this.min.y=Math.min(dN.y,this.min.y);this.max.y=Math.max(dN.y,this.max.y)}return this},getCenter:function(dN){return new c5((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,dN)},getBottomLeft:function(){return new c5(this.min.x,this.max.y)},getTopRight:function(){return new c5(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(dP){var dO,dN;if(typeof dP[0]==="number"||dP instanceof c5){dP=cZ(dP)}else{dP=F(dP)}if(dP instanceof cs){dO=dP.min;dN=dP.max}else{dO=dN=dP}return(dO.x>=this.min.x)&&(dN.x<=this.max.x)&&(dO.y>=this.min.y)&&(dN.y<=this.max.y)},intersects:function(dS){dS=F(dS);var dQ=this.min,dN=this.max,dR=dS.min,dO=dS.max,dP=(dO.x>=dQ.x)&&(dR.x<=dN.x),dT=(dO.y>=dQ.y)&&(dR.y<=dN.y);return dP&&dT},overlaps:function(dT){dT=F(dT);var dQ=this.min,dN=this.max,dS=dT.min,dO=dT.max,dR=(dO.x>dQ.x)&&(dS.x<dN.x),dP=(dO.y>dQ.y)&&(dS.y<dN.y);return dR&&dP},isValid:function(){return !!(this.min&&this.max)}};function F(dO,dN){if(!dO||dO instanceof cs){return dO}return new cs(dO,dN)}function a1(dQ,dP){if(!dQ){return}var dO=dP?[dQ,dP]:dQ;for(var dR=0,dN=dO.length;dR<dN;dR++){this.extend(dO[dR])}}a1.prototype={extend:function(dR){var dN=this._southWest,dQ=this._northEast,dO,dP;if(dR instanceof bn){dO=dR;dP=dR}else{if(dR instanceof a1){dO=dR._southWest;dP=dR._northEast;if(!dO||!dP){return this}}else{return dR?this.extend(de(dR)||e(dR)):this}}if(!dN&&!dQ){this._southWest=new bn(dO.lat,dO.lng);this._northEast=new bn(dP.lat,dP.lng)}else{dN.lat=Math.min(dO.lat,dN.lat);dN.lng=Math.min(dO.lng,dN.lng);dQ.lat=Math.max(dP.lat,dQ.lat);dQ.lng=Math.max(dP.lng,dQ.lng)}return this},pad:function(dQ){var dO=this._southWest,dR=this._northEast,dN=Math.abs(dO.lat-dR.lat)*dQ,dP=Math.abs(dO.lng-dR.lng)*dQ;return new a1(new bn(dO.lat-dN,dO.lng-dP),new bn(dR.lat+dN,dR.lng+dP))},getCenter:function(){return new bn((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new bn(this.getNorth(),this.getWest())},getSouthEast:function(){return new bn(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(dR){if(typeof dR[0]==="number"||dR instanceof bn||"lat" in dR){dR=de(dR)}else{dR=e(dR)}var dN=this._southWest,dQ=this._northEast,dO,dP;if(dR instanceof a1){dO=dR.getSouthWest();dP=dR.getNorthEast()}else{dO=dP=dR}return(dO.lat>=dN.lat)&&(dP.lat<=dQ.lat)&&(dO.lng>=dN.lng)&&(dP.lng<=dQ.lng)},intersects:function(dQ){dQ=e(dQ);var dN=this._southWest,dT=this._northEast,dO=dQ.getSouthWest(),dS=dQ.getNorthEast(),dR=(dS.lat>=dN.lat)&&(dO.lat<=dT.lat),dP=(dS.lng>=dN.lng)&&(dO.lng<=dT.lng);return dR&&dP},overlaps:function(dR){dR=e(dR);var dN=this._southWest,dT=this._northEast,dO=dR.getSouthWest(),dS=dR.getNorthEast(),dQ=(dS.lat>dN.lat)&&(dO.lat<dT.lat),dP=(dS.lng>dN.lng)&&(dO.lng<dT.lng);return dQ&&dP},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(dO,dN){if(!dO){return false}dO=e(dO);return this._southWest.equals(dO.getSouthWest(),dN)&&this._northEast.equals(dO.getNorthEast(),dN)},isValid:function(){return !!(this._southWest&&this._northEast)}};function e(dO,dN){if(dO instanceof a1){return dO}return new a1(dO,dN)}function bn(dP,dN,dO){if(isNaN(dP)||isNaN(dN)){throw new Error("Invalid LatLng object: ("+dP+", "+dN+")")}this.lat=+dP;this.lng=+dN;if(dO!==undefined){this.alt=+dO}}bn.prototype={equals:function(dP,dN){if(!dP){return false}dP=de(dP);var dO=Math.max(Math.abs(this.lat-dP.lat),Math.abs(this.lng-dP.lng));return dO<=(dN===undefined?1e-9:dN)},toString:function(dN){return"LatLng("+bs(this.lat,dN)+", "+bs(this.lng,dN)+")"},distanceTo:function(dN){return db.distance(this,de(dN))},wrap:function(){return db.wrapLatLng(this)},toBounds:function(dO){var dP=180*dO/40075017,dN=dP/Math.cos((Math.PI/180)*this.lat);return e([this.lat-dP,this.lng-dN],[this.lat+dP,this.lng+dN])},clone:function(){return new bn(this.lat,this.lng,this.alt)}};function de(dO,dN,dP){if(dO instanceof bn){return dO}if(bj(dO)&&typeof dO[0]!=="object"){if(dO.length===3){return new bn(dO[0],dO[1],dO[2])}if(dO.length===2){return new bn(dO[0],dO[1])}return null}if(dO===undefined||dO===null){return dO}if(typeof dO==="object"&&"lat" in dO){return new bn(dO.lat,"lng" in dO?dO.lng:dO.lon,dO.alt)}if(dN===undefined){return null}return new bn(dO,dN,dP)}var i={latLngToPoint:function(dQ,dO){var dN=this.projection.project(dQ),dP=this.scale(dO);return this.transformation._transform(dN,dP)},pointToLatLng:function(dN,dP){var dQ=this.scale(dP),dO=this.transformation.untransform(dN,dQ);return this.projection.unproject(dO)},project:function(dN){return this.projection.project(dN)},unproject:function(dN){return this.projection.unproject(dN)},scale:function(dN){return 256*Math.pow(2,dN)},zoom:function(dN){return Math.log(dN/256)/Math.LN2},getProjectedBounds:function(dR){if(this.infinite){return null}var dO=this.projection.bounds,dQ=this.scale(dR),dP=this.transformation.transform(dO.min,dQ),dN=this.transformation.transform(dO.max,dQ);return new cs(dP,dN)},infinite:false,wrapLatLng:function(dQ){var dN=this.wrapLng?V(dQ.lng,this.wrapLng,true):dQ.lng,dP=this.wrapLat?V(dQ.lat,this.wrapLat,true):dQ.lat,dO=dQ.alt;return new bn(dP,dN,dO)},wrapLatLngBounds:function(dN){var dO=dN.getCenter(),dP=this.wrapLatLng(dO),dS=dO.lat-dP.lat,dT=dO.lng-dP.lng;if(dS===0&&dT===0){return dN}var dU=dN.getSouthWest(),dQ=dN.getNorthEast(),dV=new bn(dU.lat-dS,dU.lng-dT),dR=new bn(dQ.lat-dS,dQ.lng-dT);return new a1(dV,dR)}};var db=cv({},i,{wrapLng:[-180,180],R:6371000,distance:function(dV,dT){var dR=Math.PI/180,dP=dV.lat*dR,dO=dT.lat*dR,dU=Math.sin((dT.lat-dV.lat)*dR/2),dN=Math.sin((dT.lng-dV.lng)*dR/2),dS=dU*dU+Math.cos(dP)*Math.cos(dO)*dN*dN,dQ=2*Math.atan2(Math.sqrt(dS),Math.sqrt(1-dS));return this.R*dQ}});var a2=6378137;var du={R:a2,MAX_LATITUDE:85.0511287798,project:function(dR){var dQ=Math.PI/180,dN=this.MAX_LATITUDE,dP=Math.max(Math.min(dN,dR.lat),-dN),dO=Math.sin(dP*dQ);return new c5(this.R*dR.lng*dQ,this.R*Math.log((1+dO)/(1-dO))/2)},unproject:function(dN){var dO=180/Math.PI;return new bn((2*Math.atan(Math.exp(dN.y/this.R))-(Math.PI/2))*dO,dN.x*dO/this.R)},bounds:(function(){var dN=a2*Math.PI;return new cs([-dN,-dN],[dN,dN])})()};function bg(dO,dN,dQ,dP){if(bj(dO)){this._a=dO[0];this._b=dO[1];this._c=dO[2];this._d=dO[3];return}this._a=dO;this._b=dN;this._c=dQ;this._d=dP}bg.prototype={transform:function(dN,dO){return this._transform(dN.clone(),dO)},_transform:function(dN,dO){dO=dO||1;dN.x=dO*(this._a*dN.x+this._b);dN.y=dO*(this._c*dN.y+this._d);return dN},untransform:function(dN,dO){dO=dO||1;return new c5((dN.x/dO-this._b)/this._a,(dN.y/dO-this._d)/this._c)}};function aR(dO,dN,dQ,dP){return new bg(dO,dN,dQ,dP)}var a8=cv({},db,{code:"EPSG:3857",projection:du,transformation:(function(){var dN=0.5/(Math.PI*du.R);return aR(dN,0.5,-dN,0.5)}())});var cH=cv({},a8,{code:"EPSG:900913"});function bZ(dN){return document.createElementNS("http://www.w3.org/2000/svg",dN)}function at(dU,dR){var dT="",dQ,dP,dS,dO,dV,dN;for(dQ=0,dS=dU.length;dQ<dS;dQ++){dV=dU[dQ];for(dP=0,dO=dV.length;dP<dO;dP++){dN=dV[dP];dT+=(dP?"L":"M")+dN.x+" "+dN.y}dT+=dR?(b4?"z":"x"):""}return dT||"M0 0"}var y=document.documentElement.style;var ar="ActiveXObject" in window;var cA=ar&&!document.addEventListener;var aV="msLaunchUri" in navigator&&!("documentMode" in document);var P=b5("webkit");var a4=b5("android");var Z=b5("android 2")||b5("android 3");var cX=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10);var cS=a4&&b5("Google")&&cX<537&&!("AudioNode" in window);var p=!!window.opera;var aC=b5("chrome");var br=b5("gecko")&&!P&&!p&&!ar;var by=!aC&&b5("safari");var bf=b5("phantom");var C="OTransition" in y;var b3=navigator.platform.indexOf("Win")===0;var dz=ar&&("transition" in y);var dq=("WebKitCSSMatrix" in window)&&("m11" in new window.WebKitCSSMatrix())&&!Z;var H="MozPerspective" in y;var bu=!window.L_DISABLE_3D&&(dz||dq||H)&&!C&&!bf;var bJ=typeof orientation!=="undefined"||b5("mobile");var ds=bJ&&P;var bH=bJ&&dq;var bM=!window.PointerEvent&&window.MSPointerEvent;var cT=!P&&!!(window.PointerEvent||bM);var bv=!window.L_NO_TOUCH&&(cT||"ontouchstart" in window||(window.DocumentTouch&&document instanceof window.DocumentTouch));var b8=bJ&&p;var m=bJ&&br;var bc=(window.devicePixelRatio||(window.screen.deviceXDPI/window.screen.logicalXDPI))>1;var l=(function(){var dN=false;try{var dO=Object.defineProperty({},"passive",{get:function(){dN=true}});window.addEventListener("testPassiveEventSupport",cO,dO);window.removeEventListener("testPassiveEventSupport",cO,dO)}catch(dP){}return dN});var cE=(function(){return !!document.createElement("canvas").getContext}());var b4=!!(document.createElementNS&&bZ("svg").createSVGRect);var c0=!b4&&(function(){try{var dP=document.createElement("div");dP.innerHTML='<v:shape adj="1"/>';var dN=dP.firstChild;dN.style.behavior="url(#default#VML)";return dN&&(typeof dN.adj==="object")}catch(dO){return false}}());function b5(dN){return navigator.userAgent.toLowerCase().indexOf(dN)>=0}var aY=(Object.freeze||Object)({ie:ar,ielt9:cA,edge:aV,webkit:P,android:a4,android23:Z,androidStock:cS,opera:p,chrome:aC,gecko:br,safari:by,phantom:bf,opera12:C,win:b3,ie3d:dz,webkit3d:dq,gecko3d:H,any3d:bu,mobile:bJ,mobileWebkit:ds,mobileWebkit3d:bH,msPointer:bM,pointer:cT,touch:bv,mobileOpera:b8,mobileGecko:m,retina:bc,passiveEvents:l,canvas:cE,svg:b4,vml:c0});var c3=bM?"MSPointerDown":"pointerdown";var dg=bM?"MSPointerMove":"pointermove";var bb=bM?"MSPointerUp":"pointerup";var cy=bM?"MSPointerCancel":"pointercancel";var dH=["INPUT","SELECT","OPTION"];var aP={};var f=false;var b1=0;function dm(dP,dO,dN,dQ){if(dO==="touchstart"){G(dP,dN,dQ)}else{if(dO==="touchmove"){dk(dP,dN,dQ)}else{if(dO==="touchend"){cU(dP,dN,dQ)}}}return this}function bp(dP,dO,dQ){var dN=dP["_leaflet_"+dO+dQ];if(dO==="touchstart"){dP.removeEventListener(c3,dN,false)}else{if(dO==="touchmove"){dP.removeEventListener(dg,dN,false)}else{if(dO==="touchend"){dP.removeEventListener(bb,dN,false);dP.removeEventListener(cy,dN,false)}}}return this}function G(dP,dN,dQ){var dO=bY(function(dR){if(dR.pointerType!=="mouse"&&dR.MSPOINTER_TYPE_MOUSE&&dR.pointerType!==dR.MSPOINTER_TYPE_MOUSE){if(dH.indexOf(dR.target.tagName)<0){dC(dR)}else{return}}bB(dR,dN)});dP["_leaflet_touchstart"+dQ]=dO;dP.addEventListener(c3,dO,false);if(!f){document.documentElement.addEventListener(c3,bQ,true);document.documentElement.addEventListener(dg,b7,true);document.documentElement.addEventListener(bb,j,true);document.documentElement.addEventListener(cy,j,true);f=true}}function bQ(dN){aP[dN.pointerId]=dN;b1++}function b7(dN){if(aP[dN.pointerId]){aP[dN.pointerId]=dN}}function j(dN){delete aP[dN.pointerId];b1--}function bB(dP,dO){dP.touches=[];for(var dN in aP){dP.touches.push(aP[dN])}dP.changedTouches=[dP];dO(dP)}function dk(dO,dN,dQ){var dP=function(dR){if((dR.pointerType===dR.MSPOINTER_TYPE_MOUSE||dR.pointerType==="mouse")&&dR.buttons===0){return}bB(dR,dN)};dO["_leaflet_touchmove"+dQ]=dP;dO.addEventListener(dg,dP,false)}function cU(dO,dN,dQ){var dP=function(dR){bB(dR,dN)};dO["_leaflet_touchend"+dQ]=dP;dO.addEventListener(bb,dP,false);dO.addEventListener(cy,dP,false)}var bX=bM?"MSPointerDown":cT?"pointerdown":"touchstart";var bF=bM?"MSPointerUp":cT?"pointerup":"touchend";var r="_leaflet_";function aS(dO,dV,dN){var dU,dR,dS=false,dQ=250;function dP(dY){var dX;if(cT){if((!aV)||dY.pointerType==="mouse"){return}dX=b1}else{dX=dY.touches.length}if(dX>1){return}var dW=Date.now(),dZ=dW-(dU||dW);dR=dY.touches?dY.touches[0]:dY;dS=(dZ>0&&dZ<=dQ);dU=dW}function dT(dY){if(dS&&!dR.cancelBubble){if(cT){if((!aV)||dY.pointerType==="mouse"){return}var dW={},dZ,dX;for(dX in dR){dZ=dR[dX];dW[dX]=dZ&&dZ.bind?dZ.bind(dR):dZ}dR=dW}dR.type="dblclick";dR.button=0;dV(dR);dU=null}}dO[r+bX+dN]=dP;dO[r+bF+dN]=dT;dO[r+"dblclick"+dN]=dV;dO.addEventListener(bX,dP,l?{passive:false}:false);dO.addEventListener(bF,dT,l?{passive:false}:false);dO.addEventListener("dblclick",dV,false);return this}function cM(dO,dR){var dQ=dO[r+bX+dR],dP=dO[r+bF+dR],dN=dO[r+"dblclick"+dR];dO.removeEventListener(bX,dQ,l?{passive:false}:false);dO.removeEventListener(bF,dP,l?{passive:false}:false);if(!aV){dO.removeEventListener("dblclick",dN,false)}return this}var a5=bI(["transform","webkitTransform","OTransform","MozTransform","msTransform"]);var D=bI(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);var c9=D==="webkitTransition"||D==="OTransition"?D+"End":"transitionend";function v(dN){return typeof dN==="string"?document.getElementById(dN):dN}function cD(dP,dO){var dQ=dP.style[dO]||(dP.currentStyle&&dP.currentStyle[dO]);if((!dQ||dQ==="auto")&&document.defaultView){var dN=document.defaultView.getComputedStyle(dP,null);dQ=dN?dN[dO]:null}return dQ==="auto"?null:dQ}function bV(dO,dQ,dN){var dP=document.createElement(dO);dP.className=dQ||"";if(dN){dN.appendChild(dP)}return dP}function ae(dO){var dN=dO.parentNode;if(dN){dN.removeChild(dO)}}function a6(dN){while(dN.firstChild){dN.removeChild(dN.firstChild)}}function ao(dO){var dN=dO.parentNode;if(dN&&dN.lastChild!==dO){dN.appendChild(dO)}}function al(dO){var dN=dO.parentNode;if(dN&&dN.firstChild!==dO){dN.insertBefore(dO,dN.firstChild)}}function ai(dP,dN){if(dP.classList!==undefined){return dP.classList.contains(dN)}var dO=Q(dP);return dO.length>0&&new RegExp("(^|\\s)"+dN+"(\\s|$)").test(dO)}function ag(dS,dO){if(dS.classList!==undefined){var dQ=g(dO);for(var dP=0,dN=dQ.length;dP<dN;dP++){dS.classList.add(dQ[dP])}}else{if(!ai(dS,dO)){var dR=Q(dS);cw(dS,(dR?dR+" ":"")+dO)}}}function ci(dO,dN){if(dO.classList!==undefined){dO.classList.remove(dN)}else{cw(dO,aG((" "+Q(dO)+" ").replace(" "+dN+" "," ")))}}function cw(dO,dN){if(dO.className.baseVal===undefined){dO.className=dN}else{dO.className.baseVal=dN}}function Q(dN){if(dN.correspondingElement){dN=dN.correspondingElement}return dN.className.baseVal===undefined?dN.className:dN.className.baseVal}function aw(dN,dO){if("opacity" in dN.style){dN.style.opacity=dO}else{if("filter" in dN.style){bl(dN,dO)}}}function bl(dP,dQ){var dO=false,dN="DXImageTransform.Microsoft.Alpha";try{dO=dP.filters.item(dN)}catch(dR){if(dQ===1){return}}dQ=Math.round(dQ*100);if(dO){dO.Enabled=(dQ!==100);dO.Opacity=dQ}else{dP.style.filter+=" progid:"+dN+"(opacity="+dQ+")"}}function bI(dP){var dO=document.documentElement.style;for(var dN=0;dN<dP.length;dN++){if(dP[dN] in dO){return dP[dN]}}return false}function a7(dN,dP,dO){var dQ=dP||new c5(0,0);dN.style[a5]=(dz?"translate("+dQ.x+"px,"+dQ.y+"px)":"translate3d("+dQ.x+"px,"+dQ.y+"px,0)")+(dO?" scale("+dO+")":"")}function cl(dO,dN){dO._leaflet_pos=dN;if(bu){a7(dO,dN)}else{dO.style.left=dN.x+"px";dO.style.top=dN.y+"px"}}function cF(dN){return dN._leaflet_pos||new c5(0,0)}var bN;var ab;var cR;if("onselectstart" in document){bN=function(){cu(window,"selectstart",dC)};ab=function(){dF(window,"selectstart",dC)}}else{var dJ=bI(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);bN=function(){if(dJ){var dN=document.documentElement.style;cR=dN[dJ];dN[dJ]="none"}};ab=function(){if(dJ){document.documentElement.style[dJ]=cR;cR=undefined}}}function aT(){cu(window,"dragstart",dC)}function E(){dF(window,"dragstart",dC)}var U;var dD;function aF(dN){while(dN.tabIndex===-1){dN=dN.parentNode}if(!dN.style){return}aM();U=dN;dD=dN.style.outline;dN.style.outline="none";cu(window,"keydown",aM)}function aM(){if(!U){return}U.style.outline=dD;U=undefined;dD=undefined;dF(window,"keydown",aM)}function cj(dN){do{dN=dN.parentNode}while((!dN.offsetWidth||!dN.offsetHeight)&&dN!==document.body);return dN}function aE(dN){var dO=dN.getBoundingClientRect();return{x:dO.width/dN.offsetWidth||1,y:dO.height/dN.offsetHeight||1,boundingClientRect:dO}}var dn=(Object.freeze||Object)({TRANSFORM:a5,TRANSITION:D,TRANSITION_END:c9,get:v,getStyle:cD,create:bV,remove:ae,empty:a6,toFront:ao,toBack:al,hasClass:ai,addClass:ag,removeClass:ci,setClass:cw,getClass:Q,setOpacity:aw,testProp:bI,setTransform:a7,setPosition:cl,getPosition:cF,disableTextSelection:bN,enableTextSelection:ab,disableImageDrag:aT,enableImageDrag:E,preventOutline:aF,restoreOutline:aM,getSizedParentNode:cj,getScale:aE});function cu(dT,dQ,dS,dP){if(typeof dQ==="object"){for(var dR in dQ){q(dT,dR,dQ[dR],dS)}}else{dQ=g(dQ);for(var dO=0,dN=dQ.length;dO<dN;dO++){q(dT,dQ[dO],dS,dP)}}return this}var dG="_leaflet_events";function dF(dU,dR,dT,dQ){if(typeof dR==="object"){for(var dS in dR){dh(dU,dS,dR[dS],dT)}}else{if(dR){dR=g(dR);for(var dP=0,dN=dR.length;dP<dN;dP++){dh(dU,dR[dP],dT,dQ)}}else{for(var dO in dU[dG]){dh(dU,dO,dU[dG][dO])}delete dU[dG]}}return this}function q(dS,dR,dQ,dO){var dT=dR+ah(dQ)+(dO?"_"+ah(dO):"");if(dS[dG]&&dS[dG][dT]){return this}var dP=function(dU){return dQ.call(dO||dS,dU||window.event)};var dN=dP;if(cT&&dR.indexOf("touch")===0){dm(dS,dR,dP,dT)}else{if(bv&&(dR==="dblclick")&&aS&&!(cT&&aC)){aS(dS,dP,dT)}else{if("addEventListener" in dS){if(dR==="mousewheel"){dS.addEventListener("onwheel" in dS?"wheel":"mousewheel",dP,l?{passive:false}:false)}else{if((dR==="mouseenter")||(dR==="mouseleave")){dP=function(dU){dU=dU||window.event;if(bU(dS,dU)){dN(dU)}};dS.addEventListener(dR==="mouseenter"?"mouseover":"mouseout",dP,false)}else{if(dR==="click"&&a4){dP=function(dU){av(dU,dN)}}dS.addEventListener(dR,dP,false)}}}else{if("attachEvent" in dS){dS.attachEvent("on"+dR,dP)}}}}dS[dG]=dS[dG]||{};dS[dG][dT]=dP}function dh(dR,dQ,dP,dN){var dS=dQ+ah(dP)+(dN?"_"+ah(dN):""),dO=dR[dG]&&dR[dG][dS];if(!dO){return this}if(cT&&dQ.indexOf("touch")===0){bp(dR,dQ,dS)}else{if(bv&&(dQ==="dblclick")&&cM&&!(cT&&aC)){cM(dR,dS)}else{if("removeEventListener" in dR){if(dQ==="mousewheel"){dR.removeEventListener("onwheel" in dR?"wheel":"mousewheel",dO,l?{passive:false}:false)}else{dR.removeEventListener(dQ==="mouseenter"?"mouseover":dQ==="mouseleave"?"mouseout":dQ,dO,false)}}else{if("detachEvent" in dR){dR.detachEvent("on"+dQ,dO)}}}}dR[dG][dS]=null}function bS(dN){if(dN.stopPropagation){dN.stopPropagation()}else{if(dN.originalEvent){dN.originalEvent._stopped=true}else{dN.cancelBubble=true}}am(dN);return this}function aL(dN){q(dN,"mousewheel",bS);return this}function aB(dN){cu(dN,"mousedown touchstart dblclick",bS);q(dN,"click",an);return this}function dC(dN){if(dN.preventDefault){dN.preventDefault()}else{dN.returnValue=false}return this}function bR(dN){dC(dN);bS(dN);return this}function cC(dO,dN){if(!dN){return new c5(dO.clientX,dO.clientY)}var dQ=aE(dN),dP=dQ.boundingClientRect;return new c5((dO.clientX-dP.left)/dQ.x-dN.clientLeft,(dO.clientY-dP.top)/dQ.y-dN.clientTop)}var cp=(b3&&aC)?2*window.devicePixelRatio:br?window.devicePixelRatio:1;function dw(dN){return(aV)?dN.wheelDeltaY/2:(dN.deltaY&&dN.deltaMode===0)?-dN.deltaY/cp:(dN.deltaY&&dN.deltaMode===1)?-dN.deltaY*20:(dN.deltaY&&dN.deltaMode===2)?-dN.deltaY*60:(dN.deltaX||dN.deltaZ)?0:dN.wheelDelta?(dN.wheelDeltaY||dN.wheelDelta)/2:(dN.detail&&Math.abs(dN.detail)<32765)?-dN.detail*20:dN.detail?dN.detail/-32765*60:0}var x={};function an(dN){x[dN.type]=true}function am(dO){var dN=x[dO.type];x[dO.type]=false;return dN}function bU(dN,dQ){var dP=dQ.relatedTarget;if(!dP){return true}try{while(dP&&(dP!==dN)){dP=dP.parentNode}}catch(dO){return false}return(dP!==dN)}var bh;function av(dQ,dP){var dO=(dQ.timeStamp||(dQ.originalEvent&&dQ.originalEvent.timeStamp)),dN=bh&&(dO-bh);if((dN&&dN>100&&dN<500)||(dQ.target._simulatedClick&&!dQ._simulated)){bR(dQ);return}bh=dO;dP(dQ)}var bC=(Object.freeze||Object)({on:cu,off:dF,stopPropagation:bS,disableScrollPropagation:aL,disableClickPropagation:aB,preventDefault:dC,stop:bR,getMousePosition:cC,getWheelDelta:dw,fakeStop:an,skipped:am,isExternalTarget:bU,addListener:cu,removeListener:dF});var c1=ck.extend({run:function(dO,dN,dP,dQ){this.stop();this._el=dO;this._inProgress=true;this._duration=dP||0.25;this._easeOutPower=1/Math.max(dQ||0.5,0.2);this._startPos=cF(dO);this._offset=dN.subtract(this._startPos);this._startTime=+new Date();this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=dE(this._animate,this);this._step()},_step:function(dO){var dN=(+new Date())-this._startTime,dP=this._duration*1000;if(dN<dP){this._runFrame(this._easeOut(dN/dP),dO)}else{this._runFrame(1);this._complete()}},_runFrame:function(dO,dN){var dP=this._startPos.add(this._offset.multiplyBy(dO));if(dN){dP._round()}cl(this._el,dP);this.fire("step")},_complete:function(){cY(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(dN){return 1-Math.pow(1-dN,this._easeOutPower)}});var cb=ck.extend({options:{crs:a8,center:undefined,zoom:undefined,minZoom:undefined,maxZoom:undefined,layers:[],maxBounds:undefined,renderer:undefined,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(dO,dN){dN=ca(this,dN);this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this._initContainer(dO);this._initLayout();this._onResize=bY(this._onResize,this);this._initEvents();if(dN.maxBounds){this.setMaxBounds(dN.maxBounds)}if(dN.zoom!==undefined){this._zoom=this._limitZoom(dN.zoom)}if(dN.center&&dN.zoom!==undefined){this.setView(de(dN.center),dN.zoom,{reset:true})}this.callInitHooks();this._zoomAnimated=D&&bu&&!b8&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();cu(this._proxy,c9,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(dN,dQ,dO){dQ=dQ===undefined?this._zoom:this._limitZoom(dQ);dN=this._limitCenter(de(dN),dQ,this.options.maxBounds);dO=dO||{};this._stop();if(this._loaded&&!dO.reset&&dO!==true){if(dO.animate!==undefined){dO.zoom=cv({animate:dO.animate},dO.zoom);dO.pan=cv({animate:dO.animate,duration:dO.duration},dO.pan)}var dP=(this._zoom!==dQ)?this._tryAnimatedZoom&&this._tryAnimatedZoom(dN,dQ,dO.zoom):this._tryAnimatedPan(dN,dO.pan);if(dP){clearTimeout(this._sizeTimer);return this}}this._resetView(dN,dQ);return this},setZoom:function(dO,dN){if(!this._loaded){this._zoom=dO;return this}return this.setView(this.getCenter(),dO,{zoom:dN})},zoomIn:function(dO,dN){dO=dO||(bu?this.options.zoomDelta:1);return this.setZoom(this._zoom+dO,dN)},zoomOut:function(dO,dN){dO=dO||(bu?this.options.zoomDelta:1);return this.setZoom(this._zoom-dO,dN)},setZoomAround:function(dU,dS,dR){var dT=this.getZoomScale(dS),dQ=this.getSize().divideBy(2),dP=dU instanceof c5?dU:this.latLngToContainerPoint(dU),dN=dP.subtract(dQ).multiplyBy(1-1/dT),dO=this.containerPointToLatLng(dQ.add(dN));return this.setView(dO,dS,{zoom:dR})},_getBoundsCenterZoom:function(dO,dV){dV=dV||{};dO=dO.getBounds?dO.getBounds():e(dO);var dQ=cZ(dV.paddingTopLeft||dV.padding||[0,0]),dP=cZ(dV.paddingBottomRight||dV.padding||[0,0]),dU=this.getBoundsZoom(dO,false,dQ.add(dP));dU=(typeof dV.maxZoom==="number")?Math.min(dV.maxZoom,dU):dU;if(dU===Infinity){return{center:dO.getCenter(),zoom:dU}}var dS=dP.subtract(dQ).divideBy(2),dT=this.project(dO.getSouthWest(),dU),dR=this.project(dO.getNorthEast(),dU),dN=this.unproject(dT.add(dR).divideBy(2).add(dS),dU);return{center:dN,zoom:dU}},fitBounds:function(dO,dN){dO=e(dO);if(!dO.isValid()){throw new Error("Bounds are not valid.")}var dP=this._getBoundsCenterZoom(dO,dN);return this.setView(dP.center,dP.zoom,dN)},fitWorld:function(dN){return this.fitBounds([[-90,-180],[90,180]],dN)},panTo:function(dN,dO){return this.setView(dN,this._zoom,{pan:dO})},panBy:function(dP,dN){dP=cZ(dP).round();dN=dN||{};if(!dP.x&&!dP.y){return this.fire("moveend")}if(dN.animate!==true&&!this.getSize().contains(dP)){this._resetView(this.unproject(this.project(this.getCenter()).add(dP)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new c1();this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!dN.noMoveStart){this.fire("movestart")}if(dN.animate!==false){ag(this._mapPane,"leaflet-pan-anim");var dO=this._getMapPanePos().subtract(dP).round();this._panAnim.run(this._mapPane,dO,dN.duration||0.25,dN.easeLinearity)}else{this._rawPanBy(dP);this.fire("move").fire("moveend")}return this},flyTo:function(d7,d4,dS){dS=dS||{};if(dS.animate===false||!bu){return this.setView(d7,d4,dS)}this._stop();var d8=this.project(this.getCenter()),dQ=this.project(d7),d6=this.getSize(),dW=this._zoom;d7=de(d7);d4=d4===undefined?dW:d4;var d1=Math.max(d6.x,d6.y),d0=d1*this.getZoomScale(dW,d4),ea=(dQ.distanceTo(d8))||1,dP=1.42,dV=dP*dP;function d5(ef){var ee=ef?-1:1,ed=ef?d0:d1,ei=d0*d0-d1*d1+ee*dV*dV*ea*ea,ec=2*ed*dV*ea,eb=ei/ec,eh=Math.sqrt(eb*eb+1)-eb;var eg=eh<1e-9?-18:Math.log(eh);return eg}function dY(eb){return(Math.exp(eb)-Math.exp(-eb))/2}function dO(eb){return(Math.exp(eb)+Math.exp(-eb))/2}function dR(eb){return dY(eb)/dO(eb)}var d9=d5(0);function dZ(eb){return d1*(dO(d9)/dO(d9+dP*eb))}function d2(eb){return d1*(dO(d9)*dR(d9+dP*eb)-dY(d9))/dV}function dX(eb){return 1-Math.pow(1-eb,1.5)}var dU=Date.now(),dT=(d5(1)-d9)/dP,dN=dS.duration?1000*dS.duration:1000*dT*0.8;function d3(){var eb=(Date.now()-dU)/dN,ec=dX(eb)*dT;if(eb<=1){this._flyToFrame=dE(d3,this);this._move(this.unproject(d8.add(dQ.subtract(d8).multiplyBy(d2(ec)/ea)),dW),this.getScaleZoom(d1/dZ(ec),dW),{flyTo:true})}else{this._move(d7,d4)._moveEnd(true)}}this._moveStart(true,dS.noMoveStart);d3.call(this);return this},flyToBounds:function(dO,dN){var dP=this._getBoundsCenterZoom(dO,dN);return this.flyTo(dP.center,dP.zoom,dN)},setMaxBounds:function(dN){dN=e(dN);if(!dN.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else{if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}}this.options.maxBounds=dN;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(dN){var dO=this.options.minZoom;this.options.minZoom=dN;if(this._loaded&&dO!==dN){this.fire("zoomlevelschange");if(this.getZoom()<this.options.minZoom){return this.setZoom(dN)}}return this},setMaxZoom:function(dN){var dO=this.options.maxZoom;this.options.maxZoom=dN;if(this._loaded&&dO!==dN){this.fire("zoomlevelschange");if(this.getZoom()>this.options.maxZoom){return this.setZoom(dN)}}return this},panInsideBounds:function(dQ,dP){this._enforcingBounds=true;var dN=this.getCenter(),dO=this._limitCenter(dN,this._zoom,e(dQ));if(!dN.equals(dO)){this.panTo(dO,dP)}this._enforcingBounds=false;return this},panInside:function(dR,dY){dY=dY||{};var dP=cZ(dY.paddingTopLeft||dY.padding||[0,0]),dO=cZ(dY.paddingBottomRight||dY.padding||[0,0]),dN=this.getCenter(),dV=this.project(dN),dS=this.project(dR),dU=this.getPixelBounds(),dX=dU.getSize().divideBy(2),dT=F([dU.min.add(dP),dU.max.subtract(dO)]);if(!dT.contains(dS)){this._enforcingBounds=true;var dW=dV.subtract(dS),dQ=cZ(dS.x+dW.x,dS.y+dW.y);if(dS.x<dT.min.x||dS.x>dT.max.x){dQ.x=dV.x-dW.x;if(dW.x>0){dQ.x+=dX.x-dP.x}else{dQ.x-=dX.x-dO.x}}if(dS.y<dT.min.y||dS.y>dT.max.y){dQ.y=dV.y-dW.y;if(dW.y>0){dQ.y+=dX.y-dP.y}else{dQ.y-=dX.y-dO.y}}this.panTo(this.unproject(dQ),dY);this._enforcingBounds=false}return this},invalidateSize:function(dP){if(!this._loaded){return this}dP=cv({animate:false,pan:true},dP===true?{animate:true}:dP);var dQ=this.getSize();this._sizeChanged=true;this._lastCenter=null;var dO=this.getSize(),dS=dQ.divideBy(2).round(),dN=dO.divideBy(2).round(),dR=dS.subtract(dN);if(!dR.x&&!dR.y){return this}if(dP.animate&&dP.pan){this.panBy(dR)}else{if(dP.pan){this._rawPanBy(dR)}this.fire("move");if(dP.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(bY(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:dQ,newSize:dO})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(dN){dN=this._locateOptions=cv({timeout:10000,watch:false},dN);if(!("geolocation" in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var dP=bY(this._handleGeolocationResponse,this),dO=bY(this._handleGeolocationError,this);if(dN.watch){this._locationWatchId=navigator.geolocation.watchPosition(dP,dO,dN)}else{navigator.geolocation.getCurrentPosition(dP,dO,dN)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(dN){var dP=dN.code,dO=dN.message||(dP===1?"permission denied":(dP===2?"position unavailable":"timeout"));if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:dP,message:"Geolocation error: "+dO+"."})},_handleGeolocationResponse:function(dS){var dR=dS.coords.latitude,dT=dS.coords.longitude,dO=new bn(dR,dT),dN=dO.toBounds(dS.coords.accuracy*2),dV=this._locateOptions;if(dV.setView){var dU=this.getBoundsZoom(dN);this.setView(dO,dV.maxZoom?Math.min(dU,dV.maxZoom):dU)}var dQ={latlng:dO,bounds:dN,timestamp:dS.timestamp};for(var dP in dS.coords){if(typeof dS.coords[dP]==="number"){dQ[dP]=dS.coords[dP]}}this.fire("locationfound",dQ)},addHandler:function(dN,dP){if(!dP){return this}var dO=this[dN]=new dP(this);this._handlers.push(dO);if(this.options[dN]){dO.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(dO){this._container._leaflet_id=undefined;this._containerId=undefined}if(this._locationWatchId!==undefined){this.stopLocate()}this._stop();ae(this._mapPane);if(this._clearControlPos){this._clearControlPos()}if(this._resizeRequest){cY(this._resizeRequest);this._resizeRequest=null}this._clearHandlers();if(this._loaded){this.fire("unload")}var dN;for(dN in this._layers){this._layers[dN].remove()}for(dN in this._panes){ae(this._panes[dN])}this._layers=[];this._panes=[];delete this._mapPane;delete this._renderer;return this},createPane:function(dO,dN){var dP="leaflet-pane"+(dO?" leaflet-"+dO.replace("Pane","")+"-pane":""),dQ=bV("div",dP,dN||this._mapPane);if(dO){this._panes[dO]=dQ}return dQ},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var dO=this.getPixelBounds(),dN=this.unproject(dO.getBottomLeft()),dP=this.unproject(dO.getTopRight());return new a1(dN,dP)},getMinZoom:function(){return this.options.minZoom===undefined?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===undefined?(this._layersMaxZoom===undefined?Infinity:this._layersMaxZoom):this.options.maxZoom},getBoundsZoom:function(dN,dQ,dX){dN=e(dN);dX=cZ(dX||[0,0]);var dY=this.getZoom()||0,dR=this.getMinZoom(),dW=this.getMaxZoom(),dU=dN.getNorthWest(),dV=dN.getSouthEast(),d0=this.getSize().subtract(dX),dZ=F(this.project(dV,dY),this.project(dU,dY)).getSize(),dP=bu?this.options.zoomSnap:1,dT=d0.x/dZ.x,dS=d0.y/dZ.y,dO=dQ?Math.max(dT,dS):Math.min(dT,dS);dY=this.getScaleZoom(dO,dY);if(dP){dY=Math.round(dY/(dP/100))*(dP/100);dY=dQ?Math.ceil(dY/dP)*dP:Math.floor(dY/dP)*dP}return Math.max(dR,Math.min(dW,dY))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new c5(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(dN,dP){var dO=this._getTopLeftPoint(dN,dP);return new cs(dO,dO.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(dN){return this.options.crs.getProjectedBounds(dN===undefined?this.getZoom():dN)},getPane:function(dN){return typeof dN==="string"?this._panes[dN]:dN},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(dO,dP){var dN=this.options.crs;dP=dP===undefined?this._zoom:dP;return dN.scale(dO)/dN.scale(dP)},getScaleZoom:function(dQ,dP){var dN=this.options.crs;dP=dP===undefined?this._zoom:dP;var dO=dN.zoom(dQ*dN.scale(dP));return isNaN(dO)?Infinity:dO},project:function(dO,dN){dN=dN===undefined?this._zoom:dN;return this.options.crs.latLngToPoint(de(dO),dN)},unproject:function(dN,dO){dO=dO===undefined?this._zoom:dO;return this.options.crs.pointToLatLng(cZ(dN),dO)},layerPointToLatLng:function(dN){var dO=cZ(dN).add(this.getPixelOrigin());return this.unproject(dO)},latLngToLayerPoint:function(dO){var dN=this.project(de(dO))._round();return dN._subtract(this.getPixelOrigin())},wrapLatLng:function(dN){return this.options.crs.wrapLatLng(de(dN))},wrapLatLngBounds:function(dN){return this.options.crs.wrapLatLngBounds(e(dN))},distance:function(dN,dO){return this.options.crs.distance(de(dN),de(dO))},containerPointToLayerPoint:function(dN){return cZ(dN).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(dN){return cZ(dN).add(this._getMapPanePos())},containerPointToLatLng:function(dN){var dO=this.containerPointToLayerPoint(cZ(dN));return this.layerPointToLatLng(dO)},latLngToContainerPoint:function(dN){return this.layerPointToContainerPoint(this.latLngToLayerPoint(de(dN)))},mouseEventToContainerPoint:function(dN){return cC(dN,this._container)},mouseEventToLayerPoint:function(dN){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(dN))},mouseEventToLatLng:function(dN){return this.layerPointToLatLng(this.mouseEventToLayerPoint(dN))},_initContainer:function(dO){var dN=this._container=v(dO);if(!dN){throw new Error("Map container not found.")}else{if(dN._leaflet_id){throw new Error("Map container is already initialized.")}}cu(dN,"scroll",this._onScroll,this);this._containerId=ah(dN)},_initLayout:function(){var dO=this._container;this._fadeAnimated=this.options.fadeAnimation&&bu;ag(dO,"leaflet-container"+(bv?" leaflet-touch":"")+(bc?" leaflet-retina":"")+(cA?" leaflet-oldie":"")+(by?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var dN=cD(dO,"position");if(dN!=="absolute"&&dN!=="relative"&&dN!=="fixed"){dO.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var dN=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);cl(this._mapPane,new c5(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){ag(dN.markerPane,"leaflet-zoom-hide");ag(dN.shadowPane,"leaflet-zoom-hide")}},_resetView:function(dO,dP){cl(this._mapPane,new c5(0,0));var dQ=!this._loaded;this._loaded=true;dP=this._limitZoom(dP);this.fire("viewprereset");var dN=this._zoom!==dP;this._moveStart(dN,false)._move(dO,dP)._moveEnd(dN);this.fire("viewreset");if(dQ){this.fire("load")}},_moveStart:function(dN,dO){if(dN){this.fire("zoomstart")}if(!dO){this.fire("movestart")}return this},_move:function(dO,dP,dQ){if(dP===undefined){dP=this._zoom}var dN=this._zoom!==dP;this._zoom=dP;this._lastCenter=dO;this._pixelOrigin=this._getNewPixelOrigin(dO);if(dN||(dQ&&dQ.pinch)){this.fire("zoom",dQ)}return this.fire("move",dQ)},_moveEnd:function(dN){if(dN){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){cY(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(dN){cl(this._mapPane,this._getMapPanePos().subtract(dN))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(dO){this._targets={};this._targets[ah(this._container)]=this;var dN=dO?dF:cu;dN(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this);if(this.options.trackResize){dN(window,"resize",this._onResize,this)}if(bu&&this.options.transform3DLimit){(dO?this.off:this.on).call(this,"moveend",this._onMoveEnd)}},_onResize:function(){cY(this._resizeRequest);this._resizeRequest=dE(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var dN=this._getMapPanePos();if(Math.max(Math.abs(dN.x),Math.abs(dN.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(dS,dO){var dN=[],dR,dQ=dO==="mouseout"||dO==="mouseover",dT=dS.target||dS.srcElement,dP=false;while(dT){dR=this._targets[ah(dT)];if(dR&&(dO==="click"||dO==="preclick")&&!dS._simulated&&this._draggableMoved(dR)){dP=true;break}if(dR&&dR.listens(dO,true)){if(dQ&&!bU(dT,dS)){break}dN.push(dR);if(dQ){break}}if(dT===this._container){break}dT=dT.parentNode}if(!dN.length&&!dP&&!dQ&&bU(dT,dS)){dN=[this]}return dN},_handleDOMEvent:function(dO){if(!this._loaded||am(dO)){return}var dN=dO.type;if(dN==="mousedown"||dN==="keypress"||dN==="keyup"||dN==="keydown"){aF(dO.target||dO.srcElement)}this._fireDOMEvent(dO,dN)},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(dT,dQ,dN){if(dT.type==="click"){var dO=cv({},dT);dO.type="preclick";this._fireDOMEvent(dO,dO.type,dN)}if(dT._stopped){return}dN=(dN||[]).concat(this._findEventTargets(dT,dQ));if(!dN.length){return}var dS=dN[0];if(dQ==="contextmenu"&&dS.listens(dQ,true)){dC(dT)}var dR={originalEvent:dT};if(dT.type!=="keypress"&&dT.type!=="keydown"&&dT.type!=="keyup"){var dU=dS.getLatLng&&(!dS._radius||dS._radius<=10);dR.containerPoint=dU?this.latLngToContainerPoint(dS.getLatLng()):this.mouseEventToContainerPoint(dT);dR.layerPoint=this.containerPointToLayerPoint(dR.containerPoint);dR.latlng=dU?dS.getLatLng():this.layerPointToLatLng(dR.layerPoint)}for(var dP=0;dP<dN.length;dP++){dN[dP].fire(dQ,dR,true);if(dR.originalEvent._stopped||(dN[dP].options.bubblingMouseEvents===false&&dA(this._mouseEvents,dQ)!==-1)){return}}},_draggableMoved:function(dN){dN=dN.dragging&&dN.dragging.enabled()?dN:this;return(dN.dragging&&dN.dragging.moved())||(this.boxZoom&&this.boxZoom.moved())},_clearHandlers:function(){for(var dO=0,dN=this._handlers.length;dO<dN;dO++){this._handlers[dO].disable()}},whenReady:function(dO,dN){if(this._loaded){dO.call(dN||this,{target:this})}else{this.on("load",dO,dN)}return this},_getMapPanePos:function(){return cF(this._mapPane)||new c5(0,0)},_moved:function(){var dN=this._getMapPanePos();return dN&&!dN.equals([0,0])},_getTopLeftPoint:function(dN,dP){var dO=dN&&dP!==undefined?this._getNewPixelOrigin(dN,dP):this.getPixelOrigin();return dO.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(dN,dP){var dO=this.getSize()._divideBy(2);return this.project(dN,dP)._subtract(dO)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(dQ,dP,dN){var dO=this._getNewPixelOrigin(dN,dP);return this.project(dQ,dP)._subtract(dO)},_latLngBoundsToNewLayerBounds:function(dQ,dP,dN){var dO=this._getNewPixelOrigin(dN,dP);return F([this.project(dQ.getSouthWest(),dP)._subtract(dO),this.project(dQ.getNorthWest(),dP)._subtract(dO),this.project(dQ.getSouthEast(),dP)._subtract(dO),this.project(dQ.getNorthEast(),dP)._subtract(dO)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(dN){return this.latLngToLayerPoint(dN).subtract(this._getCenterLayerPoint())},_limitCenter:function(dN,dQ,dP){if(!dP){return dN}var dT=this.project(dN,dQ),dO=this.getSize().divideBy(2),dR=new cs(dT.subtract(dO),dT.add(dO)),dS=this._getBoundsOffset(dR,dP,dQ);if(dS.round().equals([0,0])){return dN}return this.unproject(dT.add(dS),dQ)},_limitOffset:function(dQ,dN){if(!dN){return dQ}var dP=this.getPixelBounds(),dO=new cs(dP.min.add(dQ),dP.max.add(dQ));return dQ.add(this._getBoundsOffset(dO,dN))},_getBoundsOffset:function(dS,dP,dT){var dO=F(this.project(dP.getNorthEast(),dT),this.project(dP.getSouthWest(),dT)),dU=dO.min.subtract(dS.min),dR=dO.max.subtract(dS.max),dQ=this._rebound(dU.x,-dR.x),dN=this._rebound(dU.y,-dR.y);return new c5(dQ,dN)},_rebound:function(dO,dN){return dO+dN>0?Math.round(dO-dN)/2:Math.max(0,Math.ceil(dO))-Math.max(0,Math.floor(dN))},_limitZoom:function(dQ){var dP=this.getMinZoom(),dO=this.getMaxZoom(),dN=bu?this.options.zoomSnap:1;if(dN){dQ=Math.round(dQ/dN)*dN}return Math.max(dP,Math.min(dO,dQ))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ci(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(dN,dO){var dP=this._getCenterOffset(dN)._trunc();if((dO&&dO.animate)!==true&&!this.getSize().contains(dP)){return false}this.panBy(dP,dO);return true},_createAnimProxy:function(){var dN=this._proxy=bV("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(dN);this.on("zoomanim",function(dP){var dQ=a5,dO=this._proxy.style[dQ];a7(this._proxy,this.project(dP.center,dP.zoom),this.getZoomScale(dP.zoom,1));if(dO===this._proxy.style[dQ]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",this._animMoveEnd,this);this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){ae(this._proxy);this.off("load moveend",this._animMoveEnd,this);delete this._proxy},_animMoveEnd:function(){var dO=this.getCenter(),dN=this.getZoom();a7(this._proxy,this.project(dO,dN),this.getZoomScale(dN,1))},_catchTransitionEnd:function(dN){if(this._animatingZoom&&dN.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(dN,dP,dO){if(this._animatingZoom){return true}dO=dO||{};if(!this._zoomAnimated||dO.animate===false||this._nothingToAnimate()||Math.abs(dP-this._zoom)>this.options.zoomAnimationThreshold){return false}var dR=this.getZoomScale(dP),dQ=this._getCenterOffset(dN)._divideBy(1-1/dR);if(dO.animate!==true&&!this.getSize().contains(dQ)){return false}dE(function(){this._moveStart(true,false)._animateZoom(dN,dP,true)},this);return true},_animateZoom:function(dN,dQ,dO,dP){if(!this._mapPane){return}if(dO){this._animatingZoom=true;this._animateToCenter=dN;this._animateToZoom=dQ;ag(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:dN,zoom:dQ,noUpdate:dP});setTimeout(bY(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}if(this._mapPane){ci(this._mapPane,"leaflet-zoom-anim")}this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);dE(function(){this._moveEnd(true)},this)}});function t(dO,dN){return new cb(dO,dN)}var df=bA.extend({options:{position:"topright"},initialize:function(dN){ca(this,dN)},getPosition:function(){return this.options.position},setPosition:function(dN){var dO=this._map;if(dO){dO.removeControl(this)}this.options.position=dN;if(dO){dO.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(dP){this.remove();this._map=dP;var dN=this._container=this.onAdd(dP),dQ=this.getPosition(),dO=dP._controlCorners[dQ];ag(dN,"leaflet-control");if(dQ.indexOf("bottom")!==-1){dO.insertBefore(dN,dO.firstChild)}else{dO.appendChild(dN)}this._map.on("unload",this.remove,this);return this},remove:function(){if(!this._map){return this}ae(this._container);if(this.onRemove){this.onRemove(this._map)}this._map.off("unload",this.remove,this);this._map=null;return this},_refocusOnMap:function(dN){if(this._map&&dN&&dN.screenX>0&&dN.screenY>0){this._map.getContainer().focus()}}});var aa=function(dN){return new df(dN)};cb.include({addControl:function(dN){dN.addTo(this);return this},removeControl:function(dN){dN.remove();return this},_initControlPos:function(){var dP=this._controlCorners={},dO="leaflet-",dN=this._controlContainer=bV("div",dO+"control-container",this._container);function dQ(dS,dT){var dR=dO+dS+" "+dO+dT;dP[dS+dT]=bV("div",dR,dN)}dQ("top","left");dQ("top","right");dQ("bottom","left");dQ("bottom","right")},_clearControlPos:function(){for(var dN in this._controlCorners){ae(this._controlCorners[dN])}ae(this._controlContainer);delete this._controlCorners;delete this._controlContainer}});var bm=df.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(dQ,dO,dP,dN){return dP<dN?-1:(dN<dP?1:0)}},initialize:function(dQ,dP,dN){ca(this,dN);this._layerControlInputs=[];this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var dO in dQ){this._addLayer(dQ[dO],dO)}for(dO in dP){this._addLayer(dP[dO],dO,true)}},onAdd:function(dO){this._initLayout();this._update();this._map=dO;dO.on("zoomend",this._checkDisabledLayers,this);for(var dN=0;dN<this._layers.length;dN++){this._layers[dN].layer.on("add remove",this._onLayerChange,this)}return this._container},addTo:function(dN){df.prototype.addTo.call(this,dN);return this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var dN=0;dN<this._layers.length;dN++){this._layers[dN].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(dO,dN){this._addLayer(dO,dN);return(this._map)?this._update():this},addOverlay:function(dO,dN){this._addLayer(dO,dN,true);return(this._map)?this._update():this},removeLayer:function(dN){dN.off("add remove",this._onLayerChange,this);var dO=this._getLayer(ah(dN));if(dO){this._layers.splice(this._layers.indexOf(dO),1)}return(this._map)?this._update():this},expand:function(){ag(this._container,"leaflet-control-layers-expanded");this._section.style.height=null;var dN=this._map.getSize().y-(this._container.offsetTop+50);if(dN<this._section.clientHeight){ag(this._section,"leaflet-control-layers-scrollbar");this._section.style.height=dN+"px"}else{ci(this._section,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){ci(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var dO="leaflet-control-layers",dN=this._container=bV("div",dO),dR=this.options.collapsed;dN.setAttribute("aria-haspopup",true);aB(dN);aL(dN);var dQ=this._section=bV("section",dO+"-list");if(dR){this._map.on("click",this.collapse,this);if(!a4){cu(dN,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var dP=this._layersLink=bV("a",dO+"-toggle",dN);dP.href="#";dP.title="Layers";if(bv){cu(dP,"click",bR);cu(dP,"click",this.expand,this)}else{cu(dP,"focus",this.expand,this)}if(!dR){this.expand()}this._baseLayersList=bV("div",dO+"-base",dQ);this._separator=bV("div",dO+"-separator",dQ);this._overlaysList=bV("div",dO+"-overlays",dQ);dN.appendChild(dQ)},_getLayer:function(dO){for(var dN=0;dN<this._layers.length;dN++){if(this._layers[dN]&&ah(this._layers[dN].layer)===dO){return this._layers[dN]}}},_addLayer:function(dP,dO,dN){if(this._map){dP.on("add remove",this._onLayerChange,this)}this._layers.push({layer:dP,name:dO,overlay:dN});if(this.options.sortLayers){this._layers.sort(bY(function(dR,dQ){return this.options.sortFunction(dR.layer,dQ.layer,dR.name,dQ.name)},this))}if(this.options.autoZIndex&&dP.setZIndex){this._lastZIndex++;dP.setZIndex(this._lastZIndex)}this._expandIfNotCollapsed()},_update:function(){if(!this._container){return this}a6(this._baseLayersList);a6(this._overlaysList);this._layerControlInputs=[];var dN,dQ,dP,dR,dO=0;for(dP=0;dP<this._layers.length;dP++){dR=this._layers[dP];this._addItem(dR);dQ=dQ||dR.overlay;dN=dN||!dR.overlay;dO+=!dR.overlay?1:0}if(this.options.hideSingleBase){dN=dN&&dO>1;this._baseLayersList.style.display=dN?"":"none"}this._separator.style.display=dQ&&dN?"":"none";return this},_onLayerChange:function(dP){if(!this._handlingClick){this._update()}var dO=this._getLayer(ah(dP.target));var dN=dO.overlay?(dP.type==="add"?"overlayadd":"overlayremove"):(dP.type==="add"?"baselayerchange":null);if(dN){this._map.fire(dN,dO)}},_createRadioElement:function(dN,dQ){var dP='<input type="radio" class="leaflet-control-layers-selector" name="'+dN+'"'+(dQ?' checked="checked"':"")+"/>";var dO=document.createElement("div");dO.innerHTML=dP;return dO.firstChild},_addItem:function(dT){var dQ=document.createElement("label"),dS=this._map.hasLayer(dT.layer),dO;if(dT.overlay){dO=document.createElement("input");dO.type="checkbox";dO.className="leaflet-control-layers-selector";dO.defaultChecked=dS}else{dO=this._createRadioElement("leaflet-base-layers_"+ah(this),dS)}this._layerControlInputs.push(dO);dO.layerId=ah(dT.layer);cu(dO,"click",this._onInputClick,this);var dP=document.createElement("span");dP.innerHTML=" "+dT.name;var dR=document.createElement("div");dQ.appendChild(dR);dR.appendChild(dO);dR.appendChild(dP);var dN=dT.overlay?this._overlaysList:this._baseLayersList;dN.appendChild(dQ);this._checkDisabledLayers();return dQ},_onInputClick:function(){var dN=this._layerControlInputs,dO,dS;var dQ=[],dP=[];this._handlingClick=true;for(var dR=dN.length-1;dR>=0;dR--){dO=dN[dR];dS=this._getLayer(dO.layerId).layer;if(dO.checked){dQ.push(dS)}else{if(!dO.checked){dP.push(dS)}}}for(dR=0;dR<dP.length;dR++){if(this._map.hasLayer(dP[dR])){this._map.removeLayer(dP[dR])}}for(dR=0;dR<dQ.length;dR++){if(!this._map.hasLayer(dQ[dR])){this._map.addLayer(dQ[dR])}}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var dN=this._layerControlInputs,dO,dQ,dR=this._map.getZoom();for(var dP=dN.length-1;dP>=0;dP--){dO=dN[dP];dQ=this._getLayer(dO.layerId).layer;dO.disabled=(dQ.options.minZoom!==undefined&&dR<dQ.options.minZoom)||(dQ.options.maxZoom!==undefined&&dR>dQ.options.maxZoom)}},_expandIfNotCollapsed:function(){if(this._map&&!this.options.collapsed){this.expand()}return this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});var cx=function(dP,dO,dN){return new bm(dP,dO,dN)};var ct=df.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(dP){var dQ="leaflet-control-zoom",dN=bV("div",dQ+" leaflet-bar"),dO=this.options;this._zoomInButton=this._createButton(dO.zoomInText,dO.zoomInTitle,dQ+"-in",dN,this._zoomIn);this._zoomOutButton=this._createButton(dO.zoomOutText,dO.zoomOutTitle,dQ+"-out",dN,this._zoomOut);this._updateDisabled();dP.on("zoomend zoomlevelschange",this._updateDisabled,this);return dN},onRemove:function(dN){dN.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(dN){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(dN.shiftKey?3:1))}},_zoomOut:function(dN){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(dN.shiftKey?3:1))}},_createButton:function(dO,dS,dQ,dN,dP){var dR=bV("a",dQ,dN);dR.innerHTML=dO;dR.href="#";dR.title=dS;dR.setAttribute("role","button");dR.setAttribute("aria-label",dS);aB(dR);cu(dR,"click",bR);cu(dR,"click",dP,this);cu(dR,"click",this._refocusOnMap,this);return dR},_updateDisabled:function(){var dO=this._map,dN="leaflet-disabled";ci(this._zoomInButton,dN);ci(this._zoomOutButton,dN);if(this._disabled||dO._zoom===dO.getMinZoom()){ag(this._zoomOutButton,dN)}if(this._disabled||dO._zoom===dO.getMaxZoom()){ag(this._zoomInButton,dN)}}});cb.mergeOptions({zoomControl:true});cb.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new ct();this.addControl(this.zoomControl)}});var cd=function(dN){return new ct(dN)};var cf=df.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(dQ){var dP="leaflet-control-scale",dN=bV("div",dP),dO=this.options;this._addScales(dO,dP+"-line",dN);dQ.on(dO.updateWhenIdle?"moveend":"move",this._update,this);dQ.whenReady(this._update,this);return dN},onRemove:function(dN){dN.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(dO,dP,dN){if(dO.metric){this._mScale=bV("div",dP,dN)}if(dO.imperial){this._iScale=bV("div",dP,dN)}},_update:function(){var dO=this._map,dP=dO.getSize().y/2;var dN=dO.distance(dO.containerPointToLatLng([0,dP]),dO.containerPointToLatLng([this.options.maxWidth,dP]));this._updateScales(dN)},_updateScales:function(dN){if(this.options.metric&&dN){this._updateMetric(dN)}if(this.options.imperial&&dN){this._updateImperial(dN)}},_updateMetric:function(dP){var dN=this._getRoundNum(dP),dO=dN<1000?dN+" m":(dN/1000)+" km";this._updateScale(this._mScale,dO,dN/dP)},_updateImperial:function(dR){var dQ=dR*3.2808399,dP,dO,dN;if(dQ>5280){dP=dQ/5280;dO=this._getRoundNum(dP);this._updateScale(this._iScale,dO+" mi",dO/dP)}else{dN=this._getRoundNum(dQ);this._updateScale(this._iScale,dN+" ft",dN/dQ)}},_updateScale:function(dP,dO,dN){dP.style.width=Math.round(this.options.maxWidth*dN)+"px";dP.innerHTML=dO},_getRoundNum:function(dO){var dN=Math.pow(10,(Math.floor(dO)+"").length-1),dP=dO/dN;dP=dP>=10?10:dP>=5?5:dP>=3?3:dP>=2?2:1;return dN*dP}});var b6=function(dN){return new cf(dN)};var dy=df.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(dN){ca(this,dN);this._attributions={}},onAdd:function(dO){dO.attributionControl=this;this._container=bV("div","leaflet-control-attribution");aB(this._container);for(var dN in dO._layers){if(dO._layers[dN].getAttribution){this.addAttribution(dO._layers[dN].getAttribution())}}this._update();return this._container},setPrefix:function(dN){this.options.prefix=dN;this._update();return this},addAttribution:function(dN){if(!dN){return this}if(!this._attributions[dN]){this._attributions[dN]=0}this._attributions[dN]++;this._update();return this},removeAttribution:function(dN){if(!dN){return this}if(this._attributions[dN]){this._attributions[dN]--;this._update()}return this},_update:function(){if(!this._map){return}var dP=[];for(var dN in this._attributions){if(this._attributions[dN]){dP.push(dN)}}var dO=[];if(this.options.prefix){dO.push(this.options.prefix)}if(dP.length){dO.push(dP.join(", "))}this._container.innerHTML=dO.join(" | ")}});cb.mergeOptions({attributionControl:true});cb.addInitHook(function(){if(this.options.attributionControl){new dy().addTo(this)}});var be=function(dN){return new dy(dN)};df.Layers=bm;df.Zoom=ct;df.Scale=cf;df.Attribution=dy;aa.layers=cx;aa.zoom=cd;aa.scale=b6;aa.attribution=be;var bD=bA.extend({initialize:function(dN){this._map=dN},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return !!this._enabled}});bD.addTo=function(dO,dN){dO.addHandler(dN,this);return this};var S={Events:cz};var c8=bv?"touchstart mousedown":"mousedown";var aW={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"};var aI={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"};var dj=ck.extend({options:{clickTolerance:3},initialize:function(dP,dQ,dO,dN){ca(this,dN);this._element=dP;this._dragStartTarget=dQ||dP;this._preventOutline=dO},enable:function(){if(this._enabled){return}cu(this._dragStartTarget,c8,this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(dj._dragging===this){this.finishDrag()}dF(this._dragStartTarget,c8,this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(dO){if(dO._simulated||!this._enabled){return}this._moved=false;if(ai(this._element,"leaflet-zoom-anim")){return}if(dj._dragging||dO.shiftKey||((dO.which!==1)&&(dO.button!==1)&&!dO.touches)){return}dj._dragging=this;if(this._preventOutline){aF(this._element)}aT();bN();if(this._moving){return}this.fire("down");var dP=dO.touches?dO.touches[0]:dO,dN=cj(this._element);this._startPoint=new c5(dP.clientX,dP.clientY);this._parentScale=aE(dN);cu(document,aI[dO.type],this._onMove,this);cu(document,aW[dO.type],this._onUp,this)},_onMove:function(dN){if(dN._simulated||!this._enabled){return}if(dN.touches&&dN.touches.length>1){this._moved=true;return}var dP=(dN.touches&&dN.touches.length===1?dN.touches[0]:dN),dO=new c5(dP.clientX,dP.clientY)._subtract(this._startPoint);if(!dO.x&&!dO.y){return}if(Math.abs(dO.x)+Math.abs(dO.y)<this.options.clickTolerance){return}dO.x/=this._parentScale.x;dO.y/=this._parentScale.y;dC(dN);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=cF(this._element).subtract(dO);ag(document.body,"leaflet-dragging");this._lastTarget=dN.target||dN.srcElement;if((window.SVGElementInstance)&&(this._lastTarget instanceof SVGElementInstance)){this._lastTarget=this._lastTarget.correspondingUseElement}ag(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(dO);this._moving=true;cY(this._animRequest);this._lastEvent=dN;this._animRequest=dE(this._updatePosition,this,true)},_updatePosition:function(){var dN={originalEvent:this._lastEvent};this.fire("predrag",dN);cl(this._element,this._newPos);this.fire("drag",dN)},_onUp:function(dN){if(dN._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){ci(document.body,"leaflet-dragging");if(this._lastTarget){ci(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var dN in aI){dF(document,aI[dN],this._onMove,this);dF(document,aW[dN],this._onUp,this)}E();ab();if(this._moved&&this._moving){cY(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;dj._dragging=false}});function w(dP,dN){if(!dN||!dP.length){return dP.slice()}var dO=dN*dN;dP=dp(dP,dO);dP=az(dP,dO);return dP}function di(dO,dP,dN){return Math.sqrt(cP(dO,dP,dN,true))}function ap(dO,dP,dN){return cP(dO,dP,dN)}function az(dR,dO){var dN=dR.length,dQ=typeof Uint8Array!==undefined+""?Uint8Array:Array,dT=new dQ(dN);dT[0]=dT[dN-1]=1;b0(dR,dT,dO,0,dN-1);var dP,dS=[];for(dP=0;dP<dN;dP++){if(dT[dP]){dS.push(dR[dP])}}return dS}function b0(dV,dO,dN,dS,dU){var dP=0,dT,dQ,dR;for(dQ=dS+1;dQ<=dU-1;dQ++){dR=cP(dV[dQ],dV[dS],dV[dU],true);if(dR>dP){dT=dQ;dP=dR}}if(dP>dN){dO[dT]=1;b0(dV,dO,dN,dS,dT);b0(dV,dO,dN,dT,dU)}}function dp(dQ,dO){var dS=[dQ[0]];for(var dP=1,dR=0,dN=dQ.length;dP<dN;dP++){if(aH(dQ[dP],dQ[dR])>dO){dS.push(dQ[dP]);dR=dP}}if(dR<dN-1){dS.push(dQ[dN-1])}return dS}var cW;function aX(dU,dT,dN,dV,dW){var dR=dV?cW:dl(dU,dN),dP=dl(dT,dN),dQ,dO,dS;cW=dP;while(true){if(!(dR|dP)){return[dU,dT]}if(dR&dP){return false}dQ=dR||dP;dO=c4(dU,dT,dQ,dN,dW);dS=dl(dO,dN);if(dQ===dR){dU=dO;dR=dS}else{dT=dO;dP=dS}}}function c4(dU,dS,dO,dN,dV){var dX=dS.x-dU.x,dW=dS.y-dU.y,dP=dN.min,dR=dN.max,dT,dQ;if(dO&8){dT=dU.x+dX*(dR.y-dU.y)/dW;dQ=dR.y}else{if(dO&4){dT=dU.x+dX*(dP.y-dU.y)/dW;dQ=dP.y}else{if(dO&2){dT=dR.x;dQ=dU.y+dW*(dR.x-dU.x)/dX}else{if(dO&1){dT=dP.x;dQ=dU.y+dW*(dP.x-dU.x)/dX}}}}return new c5(dT,dQ,dV)}function dl(dP,dO){var dN=0;if(dP.x<dO.min.x){dN|=1}else{if(dP.x>dO.max.x){dN|=2}}if(dP.y<dO.min.y){dN|=4}else{if(dP.y>dO.max.y){dN|=8}}return dN}function aH(dQ,dP){var dO=dP.x-dQ.x,dN=dP.y-dQ.y;return dO*dO+dN*dN}function cP(dO,dT,dS,dP){var dR=dT.x,dQ=dT.y,dW=dS.x-dR,dV=dS.y-dQ,dN=dW*dW+dV*dV,dU;if(dN>0){dU=((dO.x-dR)*dW+(dO.y-dQ)*dV)/dN;if(dU>1){dR=dS.x;dQ=dS.y}else{if(dU>0){dR+=dW*dU;dQ+=dV*dU}}}dW=dO.x-dR;dV=dO.y-dQ;return dP?dW*dW+dV*dV:new c5(dR,dQ)}function cc(dN){return !bj(dN[0])||(typeof dN[0][0]!=="object"&&typeof dN[0][0]!=="undefined")}function Y(dN){console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead.");return cc(dN)}var dB=(Object.freeze||Object)({simplify:w,pointToSegmentDistance:di,closestPointOnSegment:ap,clipSegment:aX,_getEdgeIntersection:c4,_getBitCode:dl,_sqClosestPointOnSegment:cP,isFlat:cc,_flat:Y});function J(dY,dN,dZ){var dV,dS=[1,4,2,8],dT,dR,dQ,dX,dW,dU,dP,dO;for(dT=0,dU=dY.length;dT<dU;dT++){dY[dT]._code=dl(dY[dT],dN)}for(dQ=0;dQ<4;dQ++){dP=dS[dQ];dV=[];for(dT=0,dU=dY.length,dR=dU-1;dT<dU;dR=dT++){dX=dY[dT];dW=dY[dR];if(!(dX._code&dP)){if(dW._code&dP){dO=c4(dW,dX,dP,dN,dZ);dO._code=dl(dO,dN);dV.push(dO)}dV.push(dX)}else{if(!(dW._code&dP)){dO=c4(dW,dX,dP,dN,dZ);dO._code=dl(dO,dN);dV.push(dO)}}}dY=dV}return dY}var c6=(Object.freeze||Object)({clipPolygon:J});var au={project:function(dN){return new c5(dN.lng,dN.lat)},unproject:function(dN){return new bn(dN.y,dN.x)},bounds:new cs([-180,-90],[180,90])};var k={R:6378137,R_MINOR:6356752.314245179,bounds:new cs([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(dU){var dS=Math.PI/180,dQ=this.R,dT=dU.lat*dS,dO=this.R_MINOR/dQ,dR=Math.sqrt(1-dO*dO),dN=dR*Math.sin(dT);var dP=Math.tan(Math.PI/4-dT/2)/Math.pow((1-dN)/(1+dN),dR/2);dT=-dQ*Math.log(Math.max(dP,1e-10));return new c5(dU.lng*dS*dQ,dT)},unproject:function(dW){var dU=180/Math.PI,dN=this.R,dP=this.R_MINOR/dN,dS=Math.sqrt(1-dP*dP),dV=Math.exp(-dW.y/dN),dT=Math.PI/2-2*Math.atan(dV);for(var dQ=0,dR=0.1,dO;dQ<15&&Math.abs(dR)>1e-7;dQ++){dO=dS*Math.sin(dT);dO=Math.pow((1-dO)/(1+dO),dS/2);dR=Math.PI/2-2*Math.atan(dV*dO)-dT;dT+=dR}return new bn(dT*dU,dW.x*dU/dN)}};var c2=(Object.freeze||Object)({LonLat:au,Mercator:k,SphericalMercator:du});var b9=cv({},db,{code:"EPSG:3395",projection:k,transformation:(function(){var dN=0.5/(Math.PI*k.R);return aR(dN,0.5,-dN,0.5)}())});var ba=cv({},db,{code:"EPSG:4326",projection:au,transformation:aR(1/180,1,-1/180,0.5)});var aQ=cv({},i,{projection:au,transformation:aR(1,0,-1,0),scale:function(dN){return Math.pow(2,dN)},zoom:function(dN){return Math.log(dN)/Math.LN2},distance:function(dN,dQ){var dP=dQ.lng-dN.lng,dO=dQ.lat-dN.lat;return Math.sqrt(dP*dP+dO*dO)},infinite:true});i.Earth=db;i.EPSG3395=b9;i.EPSG3857=a8;i.EPSG900913=cH;i.EPSG4326=ba;i.Simple=aQ;var bz=ck.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:true},addTo:function(dN){dN.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(dN){if(dN){dN.removeLayer(this)}return this},getPane:function(dN){return this._map.getPane(dN?(this.options[dN]||dN):this.options.pane)},addInteractiveTarget:function(dN){this._map._targets[ah(dN)]=this;return this},removeInteractiveTarget:function(dN){delete this._map._targets[ah(dN)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(dP){var dO=dP.target;if(!dO.hasLayer(this)){return}this._map=dO;this._zoomAnimated=dO._zoomAnimated;if(this.getEvents){var dN=this.getEvents();dO.on(dN,this);this.once("remove",function(){dO.off(dN,this)},this)}this.onAdd(dO);if(this.getAttribution&&dO.attributionControl){dO.attributionControl.addAttribution(this.getAttribution())}this.fire("add");dO.fire("layeradd",{layer:this})}});cb.include({addLayer:function(dN){if(!dN._layerAdd){throw new Error("The provided object is not a Layer.")}var dO=ah(dN);if(this._layers[dO]){return this}this._layers[dO]=dN;dN._mapToAdd=this;if(dN.beforeAdd){dN.beforeAdd(this)}this.whenReady(dN._layerAdd,dN);return this},removeLayer:function(dN){var dO=ah(dN);if(!this._layers[dO]){return this}if(this._loaded){dN.onRemove(this)}if(dN.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(dN.getAttribution())}delete this._layers[dO];if(this._loaded){this.fire("layerremove",{layer:dN});dN.fire("remove")}dN._map=dN._mapToAdd=null;return this},hasLayer:function(dN){return !!dN&&(ah(dN) in this._layers)},eachLayer:function(dP,dO){for(var dN in this._layers){dP.call(dO,this._layers[dN])}return this},_addLayers:function(dP){dP=dP?(bj(dP)?dP:[dP]):[];for(var dO=0,dN=dP.length;dO<dN;dO++){this.addLayer(dP[dO])}},_addZoomLimit:function(dN){if(isNaN(dN.options.maxZoom)||!isNaN(dN.options.minZoom)){this._zoomBoundLayers[ah(dN)]=dN;this._updateZoomLevels()}},_removeZoomLimit:function(dN){var dO=ah(dN);if(this._zoomBoundLayers[dO]){delete this._zoomBoundLayers[dO];this._updateZoomLevels()}},_updateZoomLevels:function(){var dR=Infinity,dN=-Infinity,dQ=this._getZoomSpan();for(var dP in this._zoomBoundLayers){var dO=this._zoomBoundLayers[dP].options;dR=dO.minZoom===undefined?dR:Math.min(dR,dO.minZoom);dN=dO.maxZoom===undefined?dN:Math.max(dN,dO.maxZoom)}this._layersMaxZoom=dN===-Infinity?undefined:dN;this._layersMinZoom=dR===Infinity?undefined:dR;if(dQ!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===undefined&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===undefined&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var z=bz.extend({initialize:function(dQ,dO){ca(this,dO);this._layers={};var dP,dN;if(dQ){for(dP=0,dN=dQ.length;dP<dN;dP++){this.addLayer(dQ[dP])}}},addLayer:function(dN){var dO=this.getLayerId(dN);this._layers[dO]=dN;if(this._map){this._map.addLayer(dN)}return this},removeLayer:function(dN){var dO=dN in this._layers?dN:this.getLayerId(dN);if(this._map&&this._layers[dO]){this._map.removeLayer(this._layers[dO])}delete this._layers[dO];return this},hasLayer:function(dN){return !!dN&&(dN in this._layers||this.getLayerId(dN) in this._layers)},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(dN){var dO=Array.prototype.slice.call(arguments,1),dQ,dP;for(dQ in this._layers){dP=this._layers[dQ];if(dP[dN]){dP[dN].apply(dP,dO)}}return this},onAdd:function(dN){this.eachLayer(dN.addLayer,dN)},onRemove:function(dN){this.eachLayer(dN.removeLayer,dN)},eachLayer:function(dP,dO){for(var dN in this._layers){dP.call(dO,this._layers[dN])}return this},getLayer:function(dN){return this._layers[dN]},getLayers:function(){var dN=[];this.eachLayer(dN.push,dN);return dN},setZIndex:function(dN){return this.invoke("setZIndex",dN)},getLayerId:function(dN){return ah(dN)}});var ay=function(dO,dN){return new z(dO,dN)};var B=z.extend({addLayer:function(dN){if(this.hasLayer(dN)){return this}dN.addEventParent(this);z.prototype.addLayer.call(this,dN);return this.fire("layeradd",{layer:dN})},removeLayer:function(dN){if(!this.hasLayer(dN)){return this}if(dN in this._layers){dN=this._layers[dN]}dN.removeEventParent(this);z.prototype.removeLayer.call(this,dN);return this.fire("layerremove",{layer:dN})},setStyle:function(dN){return this.invoke("setStyle",dN)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var dO=new a1();for(var dP in this._layers){var dN=this._layers[dP];dO.extend(dN.getBounds?dN.getBounds():dN.getLatLng())}return dO}});var cL=function(dN){return new B(dN)};var O=bA.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(dN){ca(this,dN)},createIcon:function(dN){return this._createIcon("icon",dN)},createShadow:function(dN){return this._createIcon("shadow",dN)},_createIcon:function(dO,dP){var dQ=this._getIconUrl(dO);if(!dQ){if(dO==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var dN=this._createImg(dQ,dP&&dP.tagName==="IMG"?dP:null);this._setIconStyles(dN,dO);return dN},_setIconStyles:function(dO,dR){var dQ=this.options;var dN=dQ[dR+"Size"];if(typeof dN==="number"){dN=[dN,dN]}var dS=cZ(dN),dP=cZ(dR==="shadow"&&dQ.shadowAnchor||dQ.iconAnchor||dS&&dS.divideBy(2,true));dO.className="leaflet-marker-"+dR+" "+(dQ.className||"");if(dP){dO.style.marginLeft=(-dP.x)+"px";dO.style.marginTop=(-dP.y)+"px"}if(dS){dO.style.width=dS.x+"px";dO.style.height=dS.y+"px"}},_createImg:function(dO,dN){dN=dN||document.createElement("img");dN.src=dO;return dN},_getIconUrl:function(dN){return bc&&this.options[dN+"RetinaUrl"]||this.options[dN+"Url"]}});function s(dN){return new O(dN)}var c7=O.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(dN){if(!c7.imagePath){c7.imagePath=this._detectIconPath()}return(this.options.imagePath||c7.imagePath)+O.prototype._getIconUrl.call(this,dN)},_detectIconPath:function(){var dN=bV("div","leaflet-default-icon-path",document.body);var dO=cD(dN,"background-image")||cD(dN,"backgroundImage");document.body.removeChild(dN);if(dO===null||dO.indexOf("url")!==0){dO=""}else{dO=dO.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}return dO}});var bO=bD.extend({initialize:function(dN){this._marker=dN},addHooks:function(){var dN=this._marker._icon;if(!this._draggable){this._draggable=new dj(dN,dN,true)}this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable();ag(dN,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){ci(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(dS){var dR=this._marker,dO=dR._map,dQ=this._marker.options.autoPanSpeed,dV=this._marker.options.autoPanPadding,dT=cF(dR._icon),dN=dO.getPixelBounds(),dW=dO.getPixelOrigin();var dU=F(dN.min._subtract(dW).add(dV),dN.max._subtract(dW).subtract(dV));if(!dU.contains(dT)){var dP=cZ((Math.max(dU.max.x,dT.x)-dU.max.x)/(dN.max.x-dU.max.x)-(Math.min(dU.min.x,dT.x)-dU.min.x)/(dN.min.x-dU.min.x),(Math.max(dU.max.y,dT.y)-dU.max.y)/(dN.max.y-dU.max.y)-(Math.min(dU.min.y,dT.y)-dU.min.y)/(dN.min.y-dU.min.y)).multiplyBy(dQ);dO.panBy(dP,{animate:false});this._draggable._newPos._add(dP);this._draggable._startPos._add(dP);cl(dR._icon,this._draggable._newPos);this._onDrag(dS);this._panRequest=dE(this._adjustPan.bind(this,dS))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onPreDrag:function(dN){if(this._marker.options.autoPan){cY(this._panRequest);this._panRequest=dE(this._adjustPan.bind(this,dN))}},_onDrag:function(dP){var dN=this._marker,dR=dN._shadow,dO=cF(dN._icon),dQ=dN._map.layerPointToLatLng(dO);if(dR){cl(dR,dO)}dN._latlng=dQ;dP.latlng=dQ;dP.oldLatLng=this._oldLatLng;dN.fire("move",dP).fire("drag",dP)},_onDragEnd:function(dN){cY(this._panRequest);delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",dN)}});var aj=bz.extend({options:{icon:new c7(),interactive:true,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:false,draggable:false,autoPan:false,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(dO,dN){ca(this,dN);this._latlng=de(dO)},onAdd:function(dN){this._zoomAnimated=this._zoomAnimated&&dN.options.markerZoomAnimation;if(this._zoomAnimated){dN.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(dN){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}delete this.dragging;if(this._zoomAnimated){dN.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(dO){var dN=this._latlng;this._latlng=de(dO);this.update();return this.fire("move",{oldLatLng:dN,latlng:this._latlng})},setZIndexOffset:function(dN){this.options.zIndexOffset=dN;return this.update()},getIcon:function(){return this.options.icon},setIcon:function(dN){this.options.icon=dN;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var dN=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(dN)}return this},_initIcon:function(){var dO=this.options,dQ="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var dP=dO.icon.createIcon(this._icon),dR=false;if(dP!==this._icon){if(this._icon){this._removeIcon()}dR=true;if(dO.title){dP.title=dO.title}if(dP.tagName==="IMG"){dP.alt=dO.alt||""}}ag(dP,dQ);if(dO.keyboard){dP.tabIndex="0"}this._icon=dP;if(dO.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var dN=dO.icon.createShadow(this._shadow),dS=false;if(dN!==this._shadow){this._removeShadow();dS=true}if(dN){ag(dN,dQ);dN.alt=""}this._shadow=dN;if(dO.opacity<1){this._updateOpacity()}if(dR){this.getPane().appendChild(this._icon)}this._initInteraction();if(dN&&dS){this.getPane(dO.shadowPane).appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}ae(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){ae(this._shadow)}this._shadow=null},_setPos:function(dN){if(this._icon){cl(this._icon,dN)}if(this._shadow){cl(this._shadow,dN)}this._zIndex=dN.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(dN){if(this._icon){this._icon.style.zIndex=this._zIndex+dN}},_animateZoom:function(dN){var dO=this._map._latLngToNewLayerPoint(this._latlng,dN.zoom,dN.center).round();this._setPos(dO)},_initInteraction:function(){if(!this.options.interactive){return}ag(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(bO){var dN=this.options.draggable;if(this.dragging){dN=this.dragging.enabled();this.dragging.disable()}this.dragging=new bO(this);if(dN){this.dragging.enable()}}},setOpacity:function(dN){this.options.opacity=dN;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var dN=this.options.opacity;if(this._icon){aw(this._icon,dN)}if(this._shadow){aw(this._shadow,dN)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function bt(dO,dN){return new aj(dO,dN)}var aD=bz.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:0.2,fillRule:"evenodd",interactive:true,bubblingMouseEvents:true},beforeAdd:function(dN){this._renderer=dN.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(dN){ca(this,dN);if(this._renderer){this._renderer._updateStyle(this);if(this.options.stroke&&dN&&dN.hasOwnProperty("weight")){this._updateBounds()}}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}});var cK=aD.extend({options:{fill:true,radius:10},initialize:function(dO,dN){ca(this,dN);this._latlng=de(dO);this._radius=this.options.radius},setLatLng:function(dO){var dN=this._latlng;this._latlng=de(dO);this.redraw();return this.fire("move",{oldLatLng:dN,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(dN){this.options.radius=this._radius=dN;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(dO){var dN=dO&&dO.radius||this._radius;aD.prototype.setStyle.call(this,dO);this.setRadius(dN);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var dP=this._radius,dO=this._radiusY||dP,dN=this._clickTolerance(),dQ=[dP+dN,dO+dN];this._pxBounds=new cs(this._point.subtract(dQ),this._point.add(dQ))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(dN){return dN.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bk(dO,dN){return new cK(dO,dN)}var a=cK.extend({initialize:function(dP,dO,dN){if(typeof dO==="number"){dO=cv({},dN,{radius:dO})}ca(this,dO);this._latlng=de(dP);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(dN){this._mRadius=dN;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var dN=[this._radius,this._radiusY||this._radius];return new a1(this._map.layerPointToLatLng(this._point.subtract(dN)),this._map.layerPointToLatLng(this._point.add(dN)))},setStyle:aD.prototype.setStyle,_project:function(){var dV=this._latlng.lng,dT=this._latlng.lat,dO=this._map,dX=dO.options.crs;if(dX.distance===db.distance){var dS=Math.PI/180,dY=(this._mRadius/db.R)/dS,dU=dO.project([dT+dY,dV]),dN=dO.project([dT-dY,dV]),dP=dU.add(dN).divideBy(2),dR=dO.unproject(dP).lat,dQ=Math.acos((Math.cos(dY*dS)-Math.sin(dT*dS)*Math.sin(dR*dS))/(Math.cos(dT*dS)*Math.cos(dR*dS)))/dS;if(isNaN(dQ)||dQ===0){dQ=dY/Math.cos(Math.PI/180*dT)}this._point=dP.subtract(dO.getPixelOrigin());this._radius=isNaN(dQ)?0:dP.x-dO.project([dR,dV-dQ]).x;this._radiusY=dP.y-dU.y}else{var dW=dX.unproject(dX.project(this._latlng).subtract([this._mRadius,0]));this._point=dO.latLngToLayerPoint(this._latlng);this._radius=this._point.x-dO.latLngToLayerPoint(dW).x}this._updateBounds()}});function ac(dP,dO,dN){return new a(dP,dO,dN)}var h=aD.extend({options:{smoothFactor:1,noClip:false},initialize:function(dN,dO){ca(this,dO);this._setLatLngs(dN)},getLatLngs:function(){return this._latlngs},setLatLngs:function(dN){this._setLatLngs(dN);return this.redraw()},isEmpty:function(){return !this._latlngs.length},closestLayerPoint:function(dN){var dV=Infinity,dT=null,dO=cP,dX,dW;for(var dP=0,dY=this._parts.length;dP<dY;dP++){var dU=this._parts[dP];for(var dQ=1,dS=dU.length;dQ<dS;dQ++){dX=dU[dQ-1];dW=dU[dQ];var dR=dO(dN,dX,dW,true);if(dR<dV){dV=dR;dT=dO(dN,dX,dW)}}}if(dT){dT.distance=Math.sqrt(dV)}return dT},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var dP,dN,dO,dS,dV,dT,dR,dU=this._rings[0],dQ=dU.length;if(!dQ){return null}for(dP=0,dN=0;dP<dQ-1;dP++){dN+=dU[dP].distanceTo(dU[dP+1])/2}if(dN===0){return this._map.layerPointToLatLng(dU[0])}for(dP=0,dS=0;dP<dQ-1;dP++){dV=dU[dP];dT=dU[dP+1];dO=dV.distanceTo(dT);dS+=dO;if(dS>dN){dR=(dS-dN)/dO;return this._map.layerPointToLatLng([dT.x-dR*(dT.x-dV.x),dT.y-dR*(dT.y-dV.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(dO,dN){dN=dN||this._defaultShape();dO=de(dO);dN.push(dO);this._bounds.extend(dO);return this.redraw()},_setLatLngs:function(dN){this._bounds=new a1();this._latlngs=this._convertLatLngs(dN)},_defaultShape:function(){return cc(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(dP){var dO=[],dR=cc(dP);for(var dQ=0,dN=dP.length;dQ<dN;dQ++){if(dR){dO[dQ]=de(dP[dQ]);this._bounds.extend(dO[dQ])}else{dO[dQ]=this._convertLatLngs(dP[dQ])}}return dO},_project:function(){var dN=new cs();this._rings=[];this._projectLatlngs(this._latlngs,this._rings,dN);if(this._bounds.isValid()&&dN.isValid()){this._rawPxBounds=dN;this._updateBounds()}},_updateBounds:function(){var dN=this._clickTolerance(),dO=new c5(dN,dN);this._pxBounds=new cs([this._rawPxBounds.min.subtract(dO),this._rawPxBounds.max.add(dO)])},_projectLatlngs:function(dP,dO,dS){var dT=dP[0] instanceof bn,dN=dP.length,dR,dQ;if(dT){dQ=[];for(dR=0;dR<dN;dR++){dQ[dR]=this._map.latLngToLayerPoint(dP[dR]);dS.extend(dQ[dR])}dO.push(dQ)}else{for(dR=0;dR<dN;dR++){this._projectLatlngs(dP[dR],dO,dS)}}},_clipPoints:function(){var dN=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(dN)){return}if(this.options.noClip){this._parts=this._rings;return}var dQ=this._parts,dS,dR,dO,dU,dP,dT,dV;for(dS=0,dO=0,dU=this._rings.length;dS<dU;dS++){dV=this._rings[dS];for(dR=0,dP=dV.length;dR<dP-1;dR++){dT=aX(dV[dR],dV[dR+1],dN,dR,true);if(!dT){continue}dQ[dO]=dQ[dO]||[];dQ[dO].push(dT[0]);if((dT[1]!==dV[dR+1])||(dR===dP-2)){dQ[dO].push(dT[1]);dO++}}}},_simplifyPoints:function(){var dQ=this._parts,dO=this.options.smoothFactor;for(var dP=0,dN=dQ.length;dP<dN;dP++){dQ[dP]=w(dQ[dP],dO)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(dN,dT){var dS,dR,dP,dU,dQ,dO,dV=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(dN)){return false}for(dS=0,dU=this._parts.length;dS<dU;dS++){dO=this._parts[dS];for(dR=0,dQ=dO.length,dP=dQ-1;dR<dQ;dP=dR++){if(!dT&&(dR===0)){continue}if(di(dN,dO[dP],dO[dR])<=dV){return true}}}return false}});function ce(dN,dO){return new h(dN,dO)}h._flat=Y;var da=h.extend({options:{fill:true},isEmpty:function(){return !this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var dQ,dP,dX,dW,dS,dO,dU,dT,dN,dV=this._rings[0],dR=dV.length;if(!dR){return null}dO=dU=dT=0;for(dQ=0,dP=dR-1;dQ<dR;dP=dQ++){dX=dV[dQ];dW=dV[dP];dS=dX.y*dW.x-dW.y*dX.x;dU+=(dX.x+dW.x)*dS;dT+=(dX.y+dW.y)*dS;dO+=dS*3}if(dO===0){dN=dV[0]}else{dN=[dU/dO,dT/dO]}return this._map.layerPointToLatLng(dN)},_convertLatLngs:function(dP){var dO=h.prototype._convertLatLngs.call(this,dP),dN=dO.length;if(dN>=2&&dO[0] instanceof bn&&dO[0].equals(dO[dN-1])){dO.pop()}return dO},_setLatLngs:function(dN){h.prototype._setLatLngs.call(this,dN);if(cc(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return cc(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var dR=this._renderer._bounds,dP=this.options.weight,dS=new c5(dP,dP);dR=new cs(dR.min.subtract(dS),dR.max.add(dS));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(dR)){return}if(this.options.noClip){this._parts=this._rings;return}for(var dQ=0,dO=this._rings.length,dN;dQ<dO;dQ++){dN=J(this._rings[dQ],dR,true);if(dN.length){this._parts.push(dN)}}},_updatePath:function(){this._renderer._updatePoly(this,true)},_containsPoint:function(dN){var dP=false,dO,dW,dV,dT,dS,dR,dU,dQ;if(!this._pxBounds||!this._pxBounds.contains(dN)){return false}for(dT=0,dU=this._parts.length;dT<dU;dT++){dO=this._parts[dT];for(dS=0,dQ=dO.length,dR=dQ-1;dS<dQ;dR=dS++){dW=dO[dS];dV=dO[dR];if(((dW.y>dN.y)!==(dV.y>dN.y))&&(dN.x<(dV.x-dW.x)*(dN.y-dW.y)/(dV.y-dW.y)+dW.x)){dP=!dP}}}return dP||h.prototype._containsPoint.call(this,dN,true)}});function R(dN,dO){return new da(dN,dO)}var aJ=B.extend({initialize:function(dO,dN){ca(this,dN);this._layers={};if(dO){this.addData(dO)}},addData:function(dP){var dT=bj(dP)?dP:dP.features,dS,dN,dR;if(dT){for(dS=0,dN=dT.length;dS<dN;dS++){dR=dT[dS];if(dR.geometries||dR.geometry||dR.features||dR.coordinates){this.addData(dR)}}return this}var dO=this.options;if(dO.filter&&!dO.filter(dP)){return this}var dQ=ad(dP,dO);if(!dQ){return this}dQ.feature=aK(dP);dQ.defaultOptions=dQ.options;this.resetStyle(dQ);if(dO.onEachFeature){dO.onEachFeature(dP,dQ)}return this.addLayer(dQ)},resetStyle:function(dN){if(dN===undefined){return this.eachLayer(this.resetStyle,this)}dN.options=cv({},dN.defaultOptions);this._setLayerStyle(dN,this.options.style);return this},setStyle:function(dN){return this.eachLayer(function(dO){this._setLayerStyle(dO,dN)},this)},_setLayerStyle:function(dN,dO){if(dN.setStyle){if(typeof dO==="function"){dO=dO(dN.feature)}dN.setStyle(dO)}}});function ad(dO,dY){var dW=dO.type==="Feature"?dO.geometry:dO,dX=dW?dW.coordinates:null,dT=[],dP=dY&&dY.pointToLayer,dQ=dY&&dY.coordsToLatLng||dx,dR,dN,dS,dV;if(!dX&&!dW){return null}switch(dW.type){case"Point":dR=dQ(dX);return aA(dP,dO,dR,dY);case"MultiPoint":for(dS=0,dV=dX.length;dS<dV;dS++){dR=dQ(dX[dS]);dT.push(aA(dP,dO,dR,dY))}return new B(dT);case"LineString":case"MultiLineString":dN=a9(dX,dW.type==="LineString"?0:1,dQ);return new h(dN,dY);case"Polygon":case"MultiPolygon":dN=a9(dX,dW.type==="Polygon"?1:2,dQ);return new da(dN,dY);case"GeometryCollection":for(dS=0,dV=dW.geometries.length;dS<dV;dS++){var dU=ad({geometry:dW.geometries[dS],type:"Feature",properties:dO.properties},dY);if(dU){dT.push(dU)}}return new B(dT);default:throw new Error("Invalid GeoJSON object.")}}function aA(dP,dO,dQ,dN){return dP?dP(dO,dQ):new aj(dQ,dN&&dN.markersInheritOptions&&dN)}function dx(dN){return new bn(dN[1],dN[0],dN[2])}function a9(dR,dQ,dT){var dO=[];for(var dP=0,dN=dR.length,dS;dP<dN;dP++){dS=dQ?a9(dR[dP],dQ-1,dT):(dT||dx)(dR[dP]);dO.push(dS)}return dO}function cG(dO,dN){dN=typeof dN==="number"?dN:6;return dO.alt!==undefined?[bs(dO.lng,dN),bs(dO.lat,dN),bs(dO.alt,dN)]:[bs(dO.lng,dN),bs(dO.lat,dN)]}function o(dO,dT,dQ,dP){var dS=[];for(var dR=0,dN=dO.length;dR<dN;dR++){dS.push(dT?o(dO[dR],dT-1,dQ,dP):cG(dO[dR],dP))}if(!dT&&dQ){dS.push(dS[0])}return dS}function T(dO,dN){return dO.feature?cv({},dO.feature,{geometry:dN}):aK(dN)}function aK(dN){if(dN.type==="Feature"||dN.type==="FeatureCollection"){return dN}return{type:"Feature",properties:{},geometry:dN}}var dI={toGeoJSON:function(dN){return T(this,{type:"Point",coordinates:cG(this.getLatLng(),dN)})}};aj.include(dI);a.include(dI);cK.include(dI);h.include({toGeoJSON:function(dN){var dP=!cc(this._latlngs);var dO=o(this._latlngs,dP?1:0,false,dN);return T(this,{type:(dP?"Multi":"")+"LineString",coordinates:dO})}});da.include({toGeoJSON:function(dO){var dN=!cc(this._latlngs),dQ=dN&&!cc(this._latlngs[0]);var dP=o(this._latlngs,dQ?2:dN?1:0,true,dO);if(!dN){dP=[dP]}return T(this,{type:(dQ?"Multi":"")+"Polygon",coordinates:dP})}});z.include({toMultiPoint:function(dN){var dO=[];this.eachLayer(function(dP){dO.push(dP.toGeoJSON(dN).geometry.coordinates)});return T(this,{type:"MultiPoint",coordinates:dO})},toGeoJSON:function(dO){var dP=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(dP==="MultiPoint"){return this.toMultiPoint(dO)}var dN=dP==="GeometryCollection",dQ=[];this.eachLayer(function(dT){if(dT.toGeoJSON){var dS=dT.toGeoJSON(dO);if(dN){dQ.push(dS.geometry)}else{var dR=aK(dS);if(dR.type==="FeatureCollection"){dQ.push.apply(dQ,dR.features)}else{dQ.push(dR)}}}});if(dN){return T(this,{geometries:dQ,type:"GeometryCollection"})}return{type:"FeatureCollection",features:dQ}}});function b2(dO,dN){return new aJ(dO,dN)}var ch=b2;var cn=bz.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(dO,dP,dN){this._url=dO;this._bounds=e(dP);ca(this,dN)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){ag(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){ae(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(dN){this.options.opacity=dN;if(this._image){this._updateOpacity()}return this},setStyle:function(dN){if(dN.opacity){this.setOpacity(dN.opacity)}return this},bringToFront:function(){if(this._map){ao(this._image)}return this},bringToBack:function(){if(this._map){al(this._image)}return this},setUrl:function(dN){this._url=dN;if(this._image){this._image.src=dN}return this},setBounds:function(dN){this._bounds=e(dN);if(this._map){this._reset()}return this},getEvents:function(){var dN={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){dN.zoomanim=this._animateZoom}return dN},setZIndex:function(dN){this.options.zIndex=dN;this._updateZIndex();return this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var dO=this._url.tagName==="IMG";var dN=this._image=dO?this._url:bV("img");ag(dN,"leaflet-image-layer");if(this._zoomAnimated){ag(dN,"leaflet-zoom-animated")}if(this.options.className){ag(dN,this.options.className)}dN.onselectstart=cO;dN.onmousemove=cO;dN.onload=bY(this.fire,this,"load");dN.onerror=bY(this._overlayOnError,this,"error");if(this.options.crossOrigin||this.options.crossOrigin===""){dN.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}if(this.options.zIndex){this._updateZIndex()}if(dO){this._url=dN.src;return}dN.src=this._url;dN.alt=this.options.alt},_animateZoom:function(dN){var dP=this._map.getZoomScale(dN.zoom),dO=this._map._latLngBoundsToNewLayerBounds(this._bounds,dN.zoom,dN.center).min;a7(this._image,dO,dP)},_reset:function(){var dP=this._image,dO=new cs(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),dN=dO.getSize();cl(dP,dO.min);dP.style.width=dN.x+"px";dP.style.height=dN.y+"px"},_updateOpacity:function(){aw(this._image,this.options.opacity)},_updateZIndex:function(){if(this._image&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._image.style.zIndex=this.options.zIndex}},_overlayOnError:function(){this.fire("error");var dN=this.options.errorOverlayUrl;if(dN&&this._url!==dN){this._url=dN;this._image.src=dN}}});var a0=function(dO,dP,dN){return new cn(dO,dP,dN)};var W=cn.extend({options:{autoplay:true,loop:true,keepAspectRatio:true},_initImage:function(){var dT=this._url.tagName==="VIDEO";var dN=this._image=dT?this._url:bV("video");ag(dN,"leaflet-image-layer");if(this._zoomAnimated){ag(dN,"leaflet-zoom-animated")}if(this.options.className){ag(dN,this.options.className)}dN.onselectstart=cO;dN.onmousemove=cO;dN.onloadeddata=bY(this.fire,this,"load");if(dT){var dO=dN.getElementsByTagName("source");var dQ=[];for(var dP=0;dP<dO.length;dP++){dQ.push(dO[dP].src)}this._url=(dO.length>0)?dQ:[dN.src];return}if(!bj(this._url)){this._url=[this._url]}if(!this.options.keepAspectRatio&&dN.style.hasOwnProperty("objectFit")){dN.style.objectFit="fill"}dN.autoplay=!!this.options.autoplay;dN.loop=!!this.options.loop;for(var dR=0;dR<this._url.length;dR++){var dS=bV("source");dS.src=this._url[dR];dN.appendChild(dS)}}});function dc(dP,dO,dN){return new W(dP,dO,dN)}var aO=cn.extend({_initImage:function(){var dN=this._image=this._url;ag(dN,"leaflet-image-layer");if(this._zoomAnimated){ag(dN,"leaflet-zoom-animated")}if(this.options.className){ag(dN,this.options.className)}dN.onselectstart=cO;dN.onmousemove=cO}});function bx(dO,dP,dN){return new aO(dO,dP,dN)}var N=bz.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(dN,dO){ca(this,dN);this._source=dO},onAdd:function(dN){this._zoomAnimated=dN._zoomAnimated;if(!this._container){this._initLayout()}if(dN._fadeAnimated){aw(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(dN._fadeAnimated){aw(this._container,1)}this.bringToFront()},onRemove:function(dN){if(dN._fadeAnimated){aw(this._container,0);this._removeTimeout=setTimeout(bY(ae,undefined,this._container),200)}else{ae(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(dN){this._latlng=de(dN);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(dN){this._content=dN;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var dN={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){dN.zoomanim=this._animateZoom}return dN},isOpen:function(){return !!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){ao(this._container)}return this},bringToBack:function(){if(this._map){al(this._container)}return this},_prepareOpen:function(dO,dN,dQ){if(!(dN instanceof bz)){dQ=dN;dN=dO}if(dN instanceof B){for(var dP in dO._layers){dN=dO._layers[dP];break}}if(!dQ){if(dN.getCenter){dQ=dN.getCenter()}else{if(dN.getLatLng){dQ=dN.getLatLng()}else{throw new Error("Unable to get source layer LatLng.")}}}this._source=dN;this.update();return dQ},_updateContent:function(){if(!this._content){return}var dO=this._contentNode;var dN=(typeof this._content==="function")?this._content(this._source||this):this._content;if(typeof dN==="string"){dO.innerHTML=dN}else{while(dO.hasChildNodes()){dO.removeChild(dO.firstChild)}dO.appendChild(dN)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var dR=this._map.latLngToLayerPoint(this._latlng),dQ=cZ(this.options.offset),dO=this._getAnchor();if(this._zoomAnimated){cl(this._container,dR.add(dO))}else{dQ=dQ.add(dR).add(dO)}var dN=this._containerBottom=-dQ.y,dP=this._containerLeft=-Math.round(this._containerWidth/2)+dQ.x;this._container.style.bottom=dN+"px";this._container.style.left=dP+"px"},_getAnchor:function(){return[0,0]}});var cq=N.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,closeOnEscapeKey:true,className:""},openOn:function(dN){dN.openPopup(this);return this},onAdd:function(dN){N.prototype.onAdd.call(this,dN);dN.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof aD)){this._source.on("preclick",bS)}}},onRemove:function(dN){N.prototype.onRemove.call(this,dN);dN.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof aD)){this._source.off("preclick",bS)}}},getEvents:function(){var dN=N.prototype.getEvents.call(this);if(this.options.closeOnClick!==undefined?this.options.closeOnClick:this._map.options.closePopupOnClick){dN.preclick=this._close}if(this.options.keepInView){dN.moveend=this._adjustPan}return dN},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var dP="leaflet-popup",dN=this._container=bV("div",dP+" "+(this.options.className||"")+" leaflet-zoom-animated");var dQ=this._wrapper=bV("div",dP+"-content-wrapper",dN);this._contentNode=bV("div",dP+"-content",dQ);aB(dQ);aL(this._contentNode);cu(dQ,"contextmenu",bS);this._tipContainer=bV("div",dP+"-tip-container",dN);this._tip=bV("div",dP+"-tip",this._tipContainer);if(this.options.closeButton){var dO=this._closeButton=bV("a",dP+"-close-button",dN);dO.href="#close";dO.innerHTML="&#215;";cu(dO,"click",this._onCloseButtonClick,this)}},_updateLayout:function(){var dO=this._contentNode,dQ=dO.style;dQ.width="";dQ.whiteSpace="nowrap";var dP=dO.offsetWidth;dP=Math.min(dP,this.options.maxWidth);dP=Math.max(dP,this.options.minWidth);dQ.width=(dP+1)+"px";dQ.whiteSpace="";dQ.height="";var dN=dO.offsetHeight,dR=this.options.maxHeight,dS="leaflet-popup-scrolled";if(dR&&dN>dR){dQ.height=dR+"px";ag(dO,dS)}else{ci(dO,dS)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(dO){var dP=this._map._latLngToNewLayerPoint(this._latlng,dO.zoom,dO.center),dN=this._getAnchor();cl(this._container,dP.add(dN))},_adjustPan:function(){if(!this.options.autoPan){return}if(this._map._panAnim){this._map._panAnim.stop()}var dO=this._map,dR=parseInt(cD(this._container,"marginBottom"),10)||0,dY=this._container.offsetHeight+dR,dU=this._containerWidth,dS=new c5(this._containerLeft,-dY-this._containerBottom);dS._add(cF(this._container));var dQ=dO.layerPointToContainerPoint(dS),dT=cZ(this.options.autoPanPadding),dP=cZ(this.options.autoPanPaddingTopLeft||dT),dN=cZ(this.options.autoPanPaddingBottomRight||dT),dX=dO.getSize(),dW=0,dV=0;if(dQ.x+dU+dN.x>dX.x){dW=dQ.x+dU-dX.x+dN.x}if(dQ.x-dW-dP.x<0){dW=dQ.x-dP.x}if(dQ.y+dY+dN.y>dX.y){dV=dQ.y+dY-dX.y+dN.y}if(dQ.y-dV-dP.y<0){dV=dQ.y-dP.y}if(dW||dV){dO.fire("autopanstart").panBy([dW,dV])}},_onCloseButtonClick:function(dN){this._close();bR(dN)},_getAnchor:function(){return cZ(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});var cm=function(dN,dO){return new cq(dN,dO)};cb.mergeOptions({closePopupOnClick:true});cb.include({openPopup:function(dN,dP,dO){if(!(dN instanceof cq)){dN=new cq(dO).setContent(dN)}if(dP){dN.setLatLng(dP)}if(this.hasLayer(dN)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=dN;return this.addLayer(dN)},closePopup:function(dN){if(!dN||dN===this._popup){dN=this._popup;this._popup=null}if(dN){this.removeLayer(dN)}return this}});bz.include({bindPopup:function(dO,dN){if(dO instanceof cq){ca(dO,dN);this._popup=dO;dO._source=this}else{if(!this._popup||dN){this._popup=new cq(dN,this)}this._popup.setContent(dO)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(dN,dO){if(this._popup&&this._map){dO=this._popup._prepareOpen(this,dN,dO);this._map.openPopup(this._popup,dO)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(dN){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(dN)}}return this},isPopupOpen:function(){return(this._popup?this._popup.isOpen():false)},setPopupContent:function(dN){if(this._popup){this._popup.setContent(dN)}return this},getPopup:function(){return this._popup},_openPopup:function(dO){var dN=dO.layer||dO.target;if(!this._popup){return}if(!this._map){return}bR(dO);if(dN instanceof aD){this.openPopup(dO.layer||dO.target,dO.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===dN){this.closePopup()}else{this.openPopup(dN,dO.latlng)}},_movePopup:function(dN){this._popup.setLatLng(dN.latlng)},_onKeyPress:function(dN){if(dN.originalEvent.keyCode===13){this._openPopup(dN)}}});var dv=N.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:0.9},onAdd:function(dN){N.prototype.onAdd.call(this,dN);this.setOpacity(this.options.opacity);dN.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(dN){N.prototype.onRemove.call(this,dN);dN.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var dN=N.prototype.getEvents.call(this);if(bv&&!this.options.permanent){dN.preclick=this._close}return dN},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var dO="leaflet-tooltip",dN=dO+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=bV("div",dN)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(dU){var dN=this._map,dO=this._container,dT=dN.latLngToContainerPoint(dN.getCenter()),dP=dN.layerPointToContainerPoint(dU),dV=this.options.direction,dS=dO.offsetWidth,dW=dO.offsetHeight,dQ=cZ(this.options.offset),dR=this._getAnchor();if(dV==="top"){dU=dU.add(cZ(-dS/2+dQ.x,-dW+dQ.y+dR.y,true))}else{if(dV==="bottom"){dU=dU.subtract(cZ(dS/2-dQ.x,-dQ.y,true))}else{if(dV==="center"){dU=dU.subtract(cZ(dS/2+dQ.x,dW/2-dR.y+dQ.y,true))}else{if(dV==="right"||dV==="auto"&&dP.x<dT.x){dV="right";dU=dU.add(cZ(dQ.x+dR.x,dR.y-dW/2+dQ.y,true))}else{dV="left";dU=dU.subtract(cZ(dS+dR.x-dQ.x,dW/2-dR.y-dQ.y,true))}}}}ci(dO,"leaflet-tooltip-right");ci(dO,"leaflet-tooltip-left");ci(dO,"leaflet-tooltip-top");ci(dO,"leaflet-tooltip-bottom");ag(dO,"leaflet-tooltip-"+dV);cl(dO,dU)},_updatePosition:function(){var dN=this._map.latLngToLayerPoint(this._latlng);this._setPosition(dN)},setOpacity:function(dN){this.options.opacity=dN;if(this._container){aw(this._container,dN)}},_animateZoom:function(dN){var dO=this._map._latLngToNewLayerPoint(this._latlng,dN.zoom,dN.center);this._setPosition(dO)},_getAnchor:function(){return cZ(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});var aq=function(dN,dO){return new dv(dN,dO)};cb.include({openTooltip:function(dO,dP,dN){if(!(dO instanceof dv)){dO=new dv(dN).setContent(dO)}if(dP){dO.setLatLng(dP)}if(this.hasLayer(dO)){return this}return this.addLayer(dO)},closeTooltip:function(dN){if(dN){this.removeLayer(dN)}return this}});bz.include({bindTooltip:function(dO,dN){if(dO instanceof dv){ca(dO,dN);this._tooltip=dO;dO._source=this}else{if(!this._tooltip||dN){this._tooltip=new dv(dN,this)}this._tooltip.setContent(dO)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(dO){if(!dO&&this._tooltipHandlersAdded){return}var dN=dO?"off":"on",dP={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){dP.mouseover=this._openTooltip;dP.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){dP.mousemove=this._moveTooltip}if(bv){dP.click=this._openTooltip}}else{dP.add=this._openTooltip}this[dN](dP);this._tooltipHandlersAdded=!dO},openTooltip:function(dN,dO){if(this._tooltip&&this._map){dO=this._tooltip._prepareOpen(this,dN,dO);this._map.openTooltip(this._tooltip,dO);if(this._tooltip.options.interactive&&this._tooltip._container){ag(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){ci(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(dN){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(dN)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(dN){if(this._tooltip){this._tooltip.setContent(dN)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(dO){var dN=dO.layer||dO.target;if(!this._tooltip||!this._map){return}this.openTooltip(dN,this._tooltip.options.sticky?dO.latlng:undefined)},_moveTooltip:function(dP){var dQ=dP.latlng,dO,dN;if(this._tooltip.options.sticky&&dP.originalEvent){dO=this._map.mouseEventToContainerPoint(dP.originalEvent);dN=this._map.containerPointToLayerPoint(dO);dQ=this._map.layerPointToLatLng(dN)}this._tooltip.setLatLng(dQ)}});var a3=O.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(dO){var dQ=(dO&&dO.tagName==="DIV")?dO:document.createElement("div"),dN=this.options;if(dN.html instanceof Element){a6(dQ);dQ.appendChild(dN.html)}else{dQ.innerHTML=dN.html!==false?dN.html:""}if(dN.bgPos){var dP=cZ(dN.bgPos);dQ.style.backgroundPosition=(-dP.x)+"px "+(-dP.y)+"px"}this._setIconStyles(dQ,"icon");return dQ},createShadow:function(){return null}});function co(dN){return new a3(dN)}O.Default=c7;var aN=bz.extend({options:{tileSize:256,opacity:1,updateWhenIdle:bJ,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:undefined,maxNativeZoom:undefined,minNativeZoom:undefined,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(dN){ca(this,dN)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(dN){dN._addZoomLimit(this)},onRemove:function(dN){this._removeAllTiles();ae(this._container);dN._removeZoomLimit(this);this._container=null;this._tileZoom=undefined},bringToFront:function(){if(this._map){ao(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){al(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(dN){this.options.opacity=dN;this._updateOpacity();return this},setZIndex:function(dN){this.options.zIndex=dN;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var dN={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=cr(this._onMoveEnd,this.options.updateInterval,this)}dN.move=this._onMove}if(this._zoomAnimated){dN.zoomanim=this._animateZoom}return dN},createTile:function(){return document.createElement("div")},getTileSize:function(){var dN=this.options.tileSize;return dN instanceof c5?dN:new c5(dN,dN)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==undefined&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(dQ){var dR=this.getPane().children,dP=-dQ(-Infinity,Infinity);for(var dO=0,dN=dR.length,dS;dO<dN;dO++){dS=dR[dO].style.zIndex;if(dR[dO]!==this._container&&dS){dP=dQ(dP,+dS)}}if(isFinite(dP)){this.options.zIndex=dP+dQ(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(cA){return}aw(this._container,this.options.opacity);var dN=+new Date(),dQ=false,dS=false;for(var dO in this._tiles){var dP=this._tiles[dO];if(!dP.current||!dP.loaded){continue}var dR=Math.min(1,(dN-dP.loaded)/200);aw(dP.el,dR);if(dR<1){dQ=true}else{if(dP.active){dS=true}else{this._onOpaqueTile(dP)}dP.active=true}}if(dS&&!this._noPrune){this._pruneTiles()}if(dQ){cY(this._fadeFrame);this._fadeFrame=dE(this._updateOpacity,this)}},_onOpaqueTile:cO,_initContainer:function(){if(this._container){return}this._container=bV("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var dO=this._tileZoom,dN=this.options.maxZoom;if(dO===undefined){return undefined}for(var dQ in this._levels){if(this._levels[dQ].el.children.length||dQ===dO){this._levels[dQ].el.style.zIndex=dN-Math.abs(dO-dQ);this._onUpdateLevel(dQ)}else{ae(this._levels[dQ].el);this._removeTilesAtZoom(dQ);this._onRemoveLevel(dQ);delete this._levels[dQ]}}var dR=this._levels[dO],dP=this._map;if(!dR){dR=this._levels[dO]={};dR.el=bV("div","leaflet-tile-container leaflet-zoom-animated",this._container);dR.el.style.zIndex=dN;dR.origin=dP.project(dP.unproject(dP.getPixelOrigin()),dO).round();dR.zoom=dO;this._setZoomTransform(dR,dP.getCenter(),dP.getZoom());cO(dR.el.offsetWidth);this._onCreateLevel(dR)}this._level=dR;return dR},_onUpdateLevel:cO,_onRemoveLevel:cO,_onCreateLevel:cO,_pruneTiles:function(){if(!this._map){return}var dN,dP;var dO=this._map.getZoom();if(dO>this.options.maxZoom||dO<this.options.minZoom){this._removeAllTiles();return}for(dN in this._tiles){dP=this._tiles[dN];dP.retain=dP.current}for(dN in this._tiles){dP=this._tiles[dN];if(dP.current&&!dP.active){var dQ=dP.coords;if(!this._retainParent(dQ.x,dQ.y,dQ.z,dQ.z-5)){this._retainChildren(dQ.x,dQ.y,dQ.z,dQ.z+2)}}}for(dN in this._tiles){if(!this._tiles[dN].retain){this._removeTile(dN)}}},_removeTilesAtZoom:function(dO){for(var dN in this._tiles){if(this._tiles[dN].coords.z!==dO){continue}this._removeTile(dN)}},_removeAllTiles:function(){for(var dN in this._tiles){this._removeTile(dN)}},_invalidateAll:function(){for(var dN in this._levels){ae(this._levels[dN].el);this._onRemoveLevel(dN);delete this._levels[dN]}this._removeAllTiles();this._tileZoom=undefined},_retainParent:function(dU,dS,dR,dN){var dO=Math.floor(dU/2),dT=Math.floor(dS/2),dP=dR-1,dW=new c5(+dO,+dT);dW.z=+dP;var dV=this._tileCoordsToKey(dW),dQ=this._tiles[dV];if(dQ&&dQ.active){dQ.retain=true;return true}else{if(dQ&&dQ.loaded){dQ.retain=true}}if(dP>dN){return this._retainParent(dO,dT,dP,dN)}return false},_retainChildren:function(dU,dR,dQ,dT){for(var dO=2*dU;dO<2*dU+2;dO++){for(var dN=2*dR;dN<2*dR+2;dN++){var dS=new c5(dO,dN);dS.z=dQ+1;var dV=this._tileCoordsToKey(dS),dP=this._tiles[dV];if(dP&&dP.active){dP.retain=true;continue}else{if(dP&&dP.loaded){dP.retain=true}}if(dQ+1<dT){this._retainChildren(dO,dN,dQ+1,dT)}}}},_resetView:function(dO){var dN=dO&&(dO.pinch||dO.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),dN,dN)},_animateZoom:function(dN){this._setView(dN.center,dN.zoom,true,dN.noUpdate)},_clampZoom:function(dO){var dN=this.options;if(undefined!==dN.minNativeZoom&&dO<dN.minNativeZoom){return dN.minNativeZoom}if(undefined!==dN.maxNativeZoom&&dN.maxNativeZoom<dO){return dN.maxNativeZoom}return dO},_setView:function(dO,dQ,dN,dP){var dS=this._clampZoom(Math.round(dQ));if((this.options.maxZoom!==undefined&&dS>this.options.maxZoom)||(this.options.minZoom!==undefined&&dS<this.options.minZoom)){dS=undefined}var dR=this.options.updateWhenZooming&&(dS!==this._tileZoom);if(!dP||dR){this._tileZoom=dS;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(dS!==undefined){this._update(dO)}if(!dN){this._pruneTiles()}this._noPrune=!!dN}this._setZoomTransforms(dO,dQ)},_setZoomTransforms:function(dN,dP){for(var dO in this._levels){this._setZoomTransform(this._levels[dO],dN,dP)}},_setZoomTransform:function(dR,dN,dO){var dQ=this._map.getZoomScale(dO,dR.zoom),dP=dR.origin.multiplyBy(dQ).subtract(this._map._getNewPixelOrigin(dN,dO)).round();if(bu){a7(dR.el,dP,dQ)}else{cl(dR.el,dP)}},_resetGrid:function(){var dQ=this._map,dN=dQ.options.crs,dP=this._tileSize=this.getTileSize(),dR=this._tileZoom;var dO=this._map.getPixelWorldBounds(this._tileZoom);if(dO){this._globalTileRange=this._pxBoundsToTileRange(dO)}this._wrapX=dN.wrapLng&&!this.options.noWrap&&[Math.floor(dQ.project([0,dN.wrapLng[0]],dR).x/dP.x),Math.ceil(dQ.project([0,dN.wrapLng[1]],dR).x/dP.y)];this._wrapY=dN.wrapLat&&!this.options.noWrap&&[Math.floor(dQ.project([dN.wrapLat[0],0],dR).y/dP.x),Math.ceil(dQ.project([dN.wrapLat[1],0],dR).y/dP.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(dN){var dR=this._map,dQ=dR._animatingZoom?Math.max(dR._animateToZoom,dR.getZoom()):dR.getZoom(),dS=dR.getZoomScale(dQ,this._tileZoom),dP=dR.project(dN,this._tileZoom).floor(),dO=dR.getSize().divideBy(dS*2);return new cs(dP.subtract(dO),dP.add(dO))},_update:function(dN){var dO=this._map;if(!dO){return}var d2=this._clampZoom(dO.getZoom());if(dN===undefined){dN=dO.getCenter()}if(this._tileZoom===undefined){return}var dT=this._getTiledPixelBounds(dN),dP=this._pxBoundsToTileRange(dT),dZ=dP.getCenter(),dV=[],dQ=this.options.keepBuffer,dU=new cs(dP.getBottomLeft().subtract([dQ,-dQ]),dP.getTopRight().add([dQ,-dQ]));if(!(isFinite(dP.min.x)&&isFinite(dP.min.y)&&isFinite(dP.max.x)&&isFinite(dP.max.y))){throw new Error("Attempted to load an infinite number of tiles")}for(var d1 in this._tiles){var dY=this._tiles[d1].coords;if(dY.z!==this._tileZoom||!dU.contains(new c5(dY.x,dY.y))){this._tiles[d1].current=false}}if(Math.abs(d2-this._tileZoom)>1){this._setView(dN,d2);return}for(var dR=dP.min.y;dR<=dP.max.y;dR++){for(var dS=dP.min.x;dS<=dP.max.x;dS++){var d0=new c5(dS,dR);d0.z=this._tileZoom;if(!this._isValidTile(d0)){continue}var dX=this._tiles[this._tileCoordsToKey(d0)];if(dX){dX.current=true}else{dV.push(d0)}}}dV.sort(function(d4,d3){return d4.distanceTo(dZ)-d3.distanceTo(dZ)});if(dV.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var dW=document.createDocumentFragment();for(dS=0;dS<dV.length;dS++){this._addTile(dV[dS],dW)}this._level.el.appendChild(dW)}},_isValidTile:function(dP){var dN=this._map.options.crs;if(!dN.infinite){var dO=this._globalTileRange;if((!dN.wrapLng&&(dP.x<dO.min.x||dP.x>dO.max.x))||(!dN.wrapLat&&(dP.y<dO.min.y||dP.y>dO.max.y))){return false}}if(!this.options.bounds){return true}var dQ=this._tileCoordsToBounds(dP);return e(this.options.bounds).overlaps(dQ)},_keyToBounds:function(dN){return this._tileCoordsToBounds(this._keyToTileCoords(dN))},_tileCoordsToNwSe:function(dS){var dT=this._map,dR=this.getTileSize(),dP=dS.scaleBy(dR),dN=dP.add(dR),dO=dT.unproject(dP,dS.z),dQ=dT.unproject(dN,dS.z);return[dO,dQ]},_tileCoordsToBounds:function(dP){var dO=this._tileCoordsToNwSe(dP),dN=new a1(dO[0],dO[1]);if(!this.options.noWrap){dN=this._map.wrapLatLngBounds(dN)}return dN},_tileCoordsToKey:function(dN){return dN.x+":"+dN.y+":"+dN.z},_keyToTileCoords:function(dO){var dN=dO.split(":"),dP=new c5(+dN[0],+dN[1]);dP.z=+dN[2];return dP},_removeTile:function(dN){var dO=this._tiles[dN];if(!dO){return}ae(dO.el);delete this._tiles[dN];this.fire("tileunload",{tile:dO.el,coords:this._keyToTileCoords(dN)})},_initTile:function(dN){ag(dN,"leaflet-tile");var dO=this.getTileSize();dN.style.width=dO.x+"px";dN.style.height=dO.y+"px";dN.onselectstart=cO;dN.onmousemove=cO;if(cA&&this.options.opacity<1){aw(dN,this.options.opacity)}if(a4&&!Z){dN.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(dR,dN){var dP=this._getTilePos(dR),dO=this._tileCoordsToKey(dR);var dQ=this.createTile(this._wrapCoords(dR),bY(this._tileReady,this,dR));this._initTile(dQ);if(this.createTile.length<2){dE(bY(this._tileReady,this,dR,null,dQ))}cl(dQ,dP);this._tiles[dO]={el:dQ,coords:dR,current:true};dN.appendChild(dQ);this.fire("tileloadstart",{tile:dQ,coords:dR})},_tileReady:function(dQ,dP,dO){if(dP){this.fire("tileerror",{error:dP,tile:dO,coords:dQ})}var dN=this._tileCoordsToKey(dQ);dO=this._tiles[dN];if(!dO){return}dO.loaded=+new Date();if(this._map._fadeAnimated){aw(dO.el,0);cY(this._fadeFrame);this._fadeFrame=dE(this._updateOpacity,this)}else{dO.active=true;this._pruneTiles()}if(!dP){ag(dO.el,"leaflet-tile-loaded");this.fire("tileload",{tile:dO.el,coords:dQ})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(cA||!this._map._fadeAnimated){dE(this._pruneTiles,this)}else{setTimeout(bY(this._pruneTiles,this),250)}}},_getTilePos:function(dN){return dN.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(dN){var dO=new c5(this._wrapX?V(dN.x,this._wrapX):dN.x,this._wrapY?V(dN.y,this._wrapY):dN.y);dO.z=dN.z;return dO},_pxBoundsToTileRange:function(dN){var dO=this.getTileSize();return new cs(dN.min.unscaleBy(dO).floor(),dN.max.unscaleBy(dO).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var dN in this._tiles){if(!this._tiles[dN].loaded){return false}}return true}});function cJ(dN){return new aN(dN)}var n=aN.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(dO,dN){this._url=dO;dN=ca(this,dN);if(dN.detectRetina&&bc&&dN.maxZoom>0){dN.tileSize=Math.floor(dN.tileSize/2);if(!dN.zoomReverse){dN.zoomOffset++;dN.maxZoom--}else{dN.zoomOffset--;dN.minZoom++}dN.minZoom=Math.max(0,dN.minZoom)}if(typeof dN.subdomains==="string"){dN.subdomains=dN.subdomains.split("")}if(!a4){this.on("tileunload",this._onTileRemove)}},setUrl:function(dN,dO){if(this._url===dN&&dO===undefined){dO=true}this._url=dN;if(!dO){this.redraw()}return this},createTile:function(dP,dN){var dO=document.createElement("img");cu(dO,"load",bY(this._tileOnLoad,this,dN,dO));cu(dO,"error",bY(this._tileOnError,this,dN,dO));if(this.options.crossOrigin||this.options.crossOrigin===""){dO.crossOrigin=this.options.crossOrigin===true?"":this.options.crossOrigin}dO.alt="";dO.setAttribute("role","presentation");dO.src=this.getTileUrl(dP);return dO},getTileUrl:function(dO){var dN={r:bc?"@2x":"",s:this._getSubdomain(dO),x:dO.x,y:dO.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var dP=this._globalTileRange.max.y-dO.y;if(this.options.tms){dN.y=dP}dN["-y"]=dP}return bq(this._url,cv(dN,this.options))},_tileOnLoad:function(dN,dO){if(cA){setTimeout(bY(dN,this,null,dO),0)}else{dN(null,dO)}},_tileOnError:function(dO,dP,dQ){var dN=this.options.errorTileUrl;if(dN&&dP.getAttribute("src")!==dN){dP.src=dN}dO(dQ,dP)},_onTileRemove:function(dN){dN.tile.onload=null},_getZoomForUrl:function(){var dP=this._tileZoom,dO=this.options.maxZoom,dQ=this.options.zoomReverse,dN=this.options.zoomOffset;if(dQ){dP=dO-dP}return dP+dN},_getSubdomain:function(dO){var dN=Math.abs(dO.x+dO.y)%this.options.subdomains.length;return this.options.subdomains[dN]},_abortLoading:function(){var dN,dO;for(dN in this._tiles){if(this._tiles[dN].coords.z!==this._tileZoom){dO=this._tiles[dN].el;dO.onload=cO;dO.onerror=cO;if(!dO.complete){dO.src=I;ae(dO);delete this._tiles[dN]}}}},_removeTile:function(dN){var dO=this._tiles[dN];if(!dO){return}if(!cS){dO.el.setAttribute("src",I)}return aN.prototype._removeTile.call(this,dN)},_tileReady:function(dP,dO,dN){if(!this._map||(dN&&dN.getAttribute("src")===I)){return}return aN.prototype._tileReady.call(this,dP,dO,dN)}});function bw(dO,dN){return new n(dO,dN)}var bd=n.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(dP,dO){this._url=dP;var dN=cv({},this.defaultWmsParams);for(var dQ in dO){if(!(dQ in this.options)){dN[dQ]=dO[dQ]}}dO=ca(this,dO);var dS=dO.detectRetina&&bc?2:1;var dR=this.getTileSize();dN.width=dR.x*dS;dN.height=dR.y*dS;this.wmsParams=dN},onAdd:function(dN){this._crs=this.options.crs||dN.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var dO=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[dO]=this._crs.code;n.prototype.onAdd.call(this,dN)},getTileUrl:function(dS){var dT=this._tileCoordsToNwSe(dS),dO=this._crs,dR=F(dO.project(dT[0]),dO.project(dT[1])),dQ=dR.min,dN=dR.max,dU=(this._wmsVersion>=1.3&&this._crs===ba?[dQ.y,dQ.x,dN.y,dN.x]:[dQ.x,dQ.y,dN.x,dN.y]).join(","),dP=n.prototype.getTileUrl.call(this,dS);return dP+bo(this.wmsParams,dP,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+dU},setParams:function(dO,dN){cv(this.wmsParams,dO);if(!dN){this.redraw()}return this}});function K(dO,dN){return new bd(dO,dN)}n.WMS=bd;bw.wms=K;var dt=bz.extend({options:{padding:0.1,tolerance:0},initialize:function(dN){ca(this,dN);ah(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){ag(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this);this._destroyContainer()},getEvents:function(){var dN={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){dN.zoomanim=this._onAnimZoom}return dN},_onAnimZoom:function(dN){this._updateTransform(dN.center,dN.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(dN,dV){var dQ=this._map.getZoomScale(dV,this._zoom),dS=cF(this._container),dT=this._map.getSize().multiplyBy(0.5+this.options.padding),dO=this._map.project(this._center,dV),dR=this._map.project(dN,dV),dU=dR.subtract(dO),dP=dT.multiplyBy(-dQ).add(dS).add(dT).subtract(dU);if(bu){a7(this._container,dP,dQ)}else{cl(this._container,dP)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var dN in this._layers){this._layers[dN]._reset()}},_onZoomEnd:function(){for(var dN in this._layers){this._layers[dN]._project()}},_updatePaths:function(){for(var dN in this._layers){this._layers[dN]._update()}},_update:function(){var dP=this.options.padding,dO=this._map.getSize(),dN=this._map.containerPointToLayerPoint(dO.multiplyBy(-dP)).round();this._bounds=new cs(dN,dN.add(dO.multiplyBy(1+dP*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});var bL=dt.extend({getEvents:function(){var dN=dt.prototype.getEvents.call(this);dN.viewprereset=this._onViewPreReset;return dN},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){dt.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var dN=this._container=document.createElement("canvas");cu(dN,"mousemove",this._onMouseMove,this);cu(dN,"click dblclick mousedown mouseup contextmenu",this._onClick,this);cu(dN,"mouseout",this._handleMouseOut,this);this._ctx=dN.getContext("2d")},_destroyContainer:function(){cY(this._redrawRequest);delete this._ctx;ae(this._container);dF(this._container);delete this._container},_updatePaths:function(){if(this._postponeUpdatePaths){return}var dN;this._redrawBounds=null;for(var dO in this._layers){dN=this._layers[dO];dN._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}dt.prototype._update.call(this);var dO=this._bounds,dP=this._container,dQ=dO.getSize(),dN=bc?2:1;cl(dP,dO.min);dP.width=dN*dQ.x;dP.height=dN*dQ.y;dP.style.width=dQ.x+"px";dP.style.height=dQ.y+"px";if(bc){this._ctx.scale(2,2)}this._ctx.translate(-dO.min.x,-dO.min.y);this.fire("update")},_reset:function(){dt.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(dO){this._updateDashArray(dO);this._layers[ah(dO)]=dO;var dN=dO._order={layer:dO,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=dN}this._drawLast=dN;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(dN){this._requestRedraw(dN)},_removePath:function(dO){var dN=dO._order;var dP=dN.next;var dQ=dN.prev;if(dP){dP.prev=dQ}else{this._drawLast=dQ}if(dQ){dQ.next=dP}else{this._drawFirst=dP}delete dO._order;delete this._layers[ah(dO)];this._requestRedraw(dO)},_updatePath:function(dN){this._extendRedrawBounds(dN);dN._project();dN._update();this._requestRedraw(dN)},_updateStyle:function(dN){this._updateDashArray(dN);this._requestRedraw(dN)},_updateDashArray:function(dP){if(typeof dP.options.dashArray==="string"){var dQ=dP.options.dashArray.split(/[, ]+/),dN=[],dR,dO;for(dO=0;dO<dQ.length;dO++){dR=Number(dQ[dO]);if(isNaN(dR)){return}dN.push(dR)}dP.options._dashArray=dN}else{dP.options._dashArray=dP.options.dashArray}},_requestRedraw:function(dN){if(!this._map){return}this._extendRedrawBounds(dN);this._redrawRequest=this._redrawRequest||dE(this._redraw,this)},_extendRedrawBounds:function(dN){if(dN._pxBounds){var dO=(dN.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new cs();this._redrawBounds.extend(dN._pxBounds.min.subtract([dO,dO]));this._redrawBounds.extend(dN._pxBounds.max.add([dO,dO]))}},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var dO=this._redrawBounds;if(dO){var dN=dO.getSize();this._ctx.clearRect(dO.min.x,dO.min.y,dN.x,dN.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var dP,dQ=this._redrawBounds;this._ctx.save();if(dQ){var dO=dQ.getSize();this._ctx.beginPath();this._ctx.rect(dQ.min.x,dQ.min.y,dO.x,dO.y);this._ctx.clip()}this._drawing=true;for(var dN=this._drawFirst;dN;dN=dN.next){dP=dN.layer;if(!dQ||(dP._pxBounds&&dP._pxBounds.intersects(dQ))){dP._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(dS,dT){if(!this._drawing){return}var dR,dQ,dO,dN,dP=dS._parts,dU=dP.length,dV=this._ctx;if(!dU){return}dV.beginPath();for(dR=0;dR<dU;dR++){for(dQ=0,dO=dP[dR].length;dQ<dO;dQ++){dN=dP[dR][dQ];dV[dQ?"lineTo":"moveTo"](dN.x,dN.y)}if(dT){dV.closePath()}}this._fillStroke(dV,dS)},_updateCircle:function(dO){if(!this._drawing||dO._empty()){return}var dR=dO._point,dN=this._ctx,dQ=Math.max(Math.round(dO._radius),1),dP=(Math.max(Math.round(dO._radiusY),1)||dQ)/dQ;if(dP!==1){dN.save();dN.scale(1,dP)}dN.beginPath();dN.arc(dR.x,dR.y/dP,dQ,0,Math.PI*2,false);if(dP!==1){dN.restore()}this._fillStroke(dN,dO)},_fillStroke:function(dN,dP){var dO=dP.options;if(dO.fill){dN.globalAlpha=dO.fillOpacity;dN.fillStyle=dO.fillColor||dO.color;dN.fill(dO.fillRule||"evenodd")}if(dO.stroke&&dO.weight!==0){if(dN.setLineDash){dN.setLineDash(dP.options&&dP.options._dashArray||[])}dN.globalAlpha=dO.opacity;dN.lineWidth=dO.weight;dN.strokeStyle=dO.color;dN.lineCap=dO.lineCap;dN.lineJoin=dO.lineJoin;dN.stroke()}},_onClick:function(dR){var dO=this._map.mouseEventToLayerPoint(dR),dP,dQ;for(var dN=this._drawFirst;dN;dN=dN.next){dP=dN.layer;if(dP.options.interactive&&dP._containsPoint(dO)&&!this._map._draggableMoved(dP)){dQ=dP}}if(dQ){an(dR);this._fireEvent([dQ],dR)}},_onMouseMove:function(dO){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var dN=this._map.mouseEventToLayerPoint(dO);this._handleMouseHover(dO,dN)},_handleMouseOut:function(dO){var dN=this._hoveredLayer;if(dN){ci(this._container,"leaflet-interactive");this._fireEvent([dN],dO,"mouseout");this._hoveredLayer=null;this._mouseHoverThrottled=false}},_handleMouseHover:function(dR,dO){if(this._mouseHoverThrottled){return}var dQ,dP;for(var dN=this._drawFirst;dN;dN=dN.next){dQ=dN.layer;if(dQ.options.interactive&&dQ._containsPoint(dO)){dP=dQ}}if(dP!==this._hoveredLayer){this._handleMouseOut(dR);if(dP){ag(this._container,"leaflet-interactive");this._fireEvent([dP],dR,"mouseover");this._hoveredLayer=dP}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],dR)}this._mouseHoverThrottled=true;setTimeout(L.bind(function(){this._mouseHoverThrottled=false},this),32)},_fireEvent:function(dP,dO,dN){this._map._fireDOMEvent(dO,dN||dO.type,dP)},_bringToFront:function(dO){var dN=dO._order;if(!dN){return}var dP=dN.next;var dQ=dN.prev;if(dP){dP.prev=dQ}else{return}if(dQ){dQ.next=dP}else{if(dP){this._drawFirst=dP}}dN.prev=this._drawLast;this._drawLast.next=dN;dN.next=null;this._drawLast=dN;this._requestRedraw(dO)},_bringToBack:function(dO){var dN=dO._order;if(!dN){return}var dP=dN.next;var dQ=dN.prev;if(dQ){dQ.next=dP}else{return}if(dP){dP.prev=dQ}else{if(dQ){this._drawLast=dQ}}dN.prev=null;dN.next=this._drawFirst;this._drawFirst.prev=dN;this._drawFirst=dN;this._requestRedraw(dO)}});function M(dN){return cE?new bL(dN):null}var cQ=(function(){try{document.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(dO){return document.createElement("<lvml:"+dO+' class="lvml">')}}catch(dN){return function(dO){return document.createElement("<"+dO+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}})();var c={_initContainer:function(){this._container=bV("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}dt.prototype._update.call(this);this.fire("update")},_initPath:function(dO){var dN=dO._container=cQ("shape");ag(dN,"leaflet-vml-shape "+(this.options.className||""));dN.coordsize="1 1";dO._path=cQ("path");dN.appendChild(dO._path);this._updateStyle(dO);this._layers[ah(dO)]=dO},_addPath:function(dO){var dN=dO._container;this._container.appendChild(dN);if(dO.options.interactive){dO.addInteractiveTarget(dN)}},_removePath:function(dO){var dN=dO._container;ae(dN);dO.removeInteractiveTarget(dN);delete this._layers[ah(dO)]},_updateStyle:function(dP){var dR=dP._stroke,dQ=dP._fill,dO=dP.options,dN=dP._container;dN.stroked=!!dO.stroke;dN.filled=!!dO.fill;if(dO.stroke){if(!dR){dR=dP._stroke=cQ("stroke")}dN.appendChild(dR);dR.weight=dO.weight+"px";dR.color=dO.color;dR.opacity=dO.opacity;if(dO.dashArray){dR.dashStyle=bj(dO.dashArray)?dO.dashArray.join(" "):dO.dashArray.replace(/( *, *)/g," ")}else{dR.dashStyle=""}dR.endcap=dO.lineCap.replace("butt","flat");dR.joinstyle=dO.lineJoin}else{if(dR){dN.removeChild(dR);dP._stroke=null}}if(dO.fill){if(!dQ){dQ=dP._fill=cQ("fill")}dN.appendChild(dQ);dQ.color=dO.fillColor||dO.color;dQ.opacity=dO.fillOpacity}else{if(dQ){dN.removeChild(dQ);dP._fill=null}}},_updateCircle:function(dO){var dQ=dO._point.round(),dP=Math.round(dO._radius),dN=Math.round(dO._radiusY||dP);this._setPath(dO,dO._empty()?"M0 0":"AL "+dQ.x+","+dQ.y+" "+dP+","+dN+" 0,"+(65535*360))},_setPath:function(dN,dO){dN._path.v=dO},_bringToFront:function(dN){ao(dN._container)},_bringToBack:function(dN){al(dN._container)}};var bT=c0?cQ:bZ;var bW=dt.extend({getEvents:function(){var dN=dt.prototype.getEvents.call(this);dN.zoomstart=this._onZoomStart;return dN},_initContainer:function(){this._container=bT("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=bT("g");this._container.appendChild(this._rootGroup)},_destroyContainer:function(){ae(this._container);dF(this._container);delete this._container;delete this._rootGroup;delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}dt.prototype._update.call(this);var dN=this._bounds,dP=dN.getSize(),dO=this._container;if(!this._svgSize||!this._svgSize.equals(dP)){this._svgSize=dP;dO.setAttribute("width",dP.x);dO.setAttribute("height",dP.y)}cl(dO,dN.min);dO.setAttribute("viewBox",[dN.min.x,dN.min.y,dP.x,dP.y].join(" "));this.fire("update")},_initPath:function(dN){var dO=dN._path=bT("path");if(dN.options.className){ag(dO,dN.options.className)}if(dN.options.interactive){ag(dO,"leaflet-interactive")}this._updateStyle(dN);this._layers[ah(dN)]=dN},_addPath:function(dN){if(!this._rootGroup){this._initContainer()}this._rootGroup.appendChild(dN._path);dN.addInteractiveTarget(dN._path)},_removePath:function(dN){ae(dN._path);dN.removeInteractiveTarget(dN._path);delete this._layers[ah(dN)]},_updatePath:function(dN){dN._project();dN._update()},_updateStyle:function(dO){var dP=dO._path,dN=dO.options;if(!dP){return}if(dN.stroke){dP.setAttribute("stroke",dN.color);dP.setAttribute("stroke-opacity",dN.opacity);dP.setAttribute("stroke-width",dN.weight);dP.setAttribute("stroke-linecap",dN.lineCap);dP.setAttribute("stroke-linejoin",dN.lineJoin);if(dN.dashArray){dP.setAttribute("stroke-dasharray",dN.dashArray)}else{dP.removeAttribute("stroke-dasharray")}if(dN.dashOffset){dP.setAttribute("stroke-dashoffset",dN.dashOffset)}else{dP.removeAttribute("stroke-dashoffset")}}else{dP.setAttribute("stroke","none")}if(dN.fill){dP.setAttribute("fill",dN.fillColor||dN.color);dP.setAttribute("fill-opacity",dN.fillOpacity);dP.setAttribute("fill-rule",dN.fillRule||"evenodd")}else{dP.setAttribute("fill","none")}},_updatePoly:function(dO,dN){this._setPath(dO,at(dO._parts,dN))},_updateCircle:function(dP){var dR=dP._point,dQ=Math.max(Math.round(dP._radius),1),dN=Math.max(Math.round(dP._radiusY),1)||dQ,dO="a"+dQ+","+dN+" 0 1,0 ";var dS=dP._empty()?"M0 0":"M"+(dR.x-dQ)+","+dR.y+dO+(dQ*2)+",0 "+dO+(-dQ*2)+",0 ";this._setPath(dP,dS)},_setPath:function(dN,dO){dN._path.setAttribute("d",dO)},_bringToFront:function(dN){ao(dN._path)},_bringToBack:function(dN){al(dN._path)}});if(c0){bW.include(c)}function cg(dN){return b4||c0?new bW(dN):null}cb.include({getRenderer:function(dN){var dO=dN.options.renderer||this._getPaneRenderer(dN.options.pane)||this.options.renderer||this._renderer;if(!dO){dO=this._renderer=this._createRenderer()}if(!this.hasLayer(dO)){this.addLayer(dO)}return dO},_getPaneRenderer:function(dN){if(dN==="overlayPane"||dN===undefined){return false}var dO=this._paneRenderers[dN];if(dO===undefined){dO=this._createRenderer({pane:dN});this._paneRenderers[dN]=dO}return dO},_createRenderer:function(dN){return(this.options.preferCanvas&&M(dN))||cg(dN)}});var cN=da.extend({initialize:function(dO,dN){da.prototype.initialize.call(this,this._boundsToLatLngs(dO),dN)},setBounds:function(dN){return this.setLatLngs(this._boundsToLatLngs(dN))},_boundsToLatLngs:function(dN){dN=e(dN);return[dN.getSouthWest(),dN.getNorthWest(),dN.getNorthEast(),dN.getSouthEast()]}});function ak(dO,dN){return new cN(dO,dN)}bW.create=bT;bW.pointsToPath=at;aJ.geometryToLayer=ad;aJ.coordsToLatLng=dx;aJ.coordsToLatLngs=a9;aJ.latLngToCoords=cG;aJ.latLngsToCoords=o;aJ.getFeature=T;aJ.asFeature=aK;cb.mergeOptions({boxZoom:true});var d=bD.extend({initialize:function(dN){this._map=dN;this._container=dN._container;this._pane=dN._panes.overlayPane;this._resetStateTimeout=0;dN.on("unload",this._destroy,this)},addHooks:function(){cu(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){dF(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){ae(this._pane);delete this._pane},_resetState:function(){this._resetStateTimeout=0;this._moved=false},_clearDeferredResetState:function(){if(this._resetStateTimeout!==0){clearTimeout(this._resetStateTimeout);this._resetStateTimeout=0}},_onMouseDown:function(dN){if(!dN.shiftKey||((dN.which!==1)&&(dN.button!==1))){return false}this._clearDeferredResetState();this._resetState();bN();aT();this._startPoint=this._map.mouseEventToContainerPoint(dN);cu(document,{contextmenu:bR,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(dP){if(!this._moved){this._moved=true;this._box=bV("div","leaflet-zoom-box",this._container);ag(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(dP);var dO=new cs(this._point,this._startPoint),dN=dO.getSize();cl(this._box,dO.min);this._box.style.width=dN.x+"px";this._box.style.height=dN.y+"px"},_finish:function(){if(this._moved){ae(this._box);ci(this._container,"leaflet-crosshair")}ab();E();dF(document,{contextmenu:bR,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(dO){if((dO.which!==1)&&(dO.button!==1)){return}this._finish();if(!this._moved){return}this._clearDeferredResetState();this._resetStateTimeout=setTimeout(bY(this._resetState,this),0);var dN=new a1(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(dN).fire("boxzoomend",{boxZoomBounds:dN})},_onKeyDown:function(dN){if(dN.keyCode===27){this._finish()}}});cb.addInitHook("addHandler","boxZoom",d);cb.mergeOptions({doubleClickZoom:true});var bG=bD.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(dQ){var dP=this._map,dO=dP.getZoom(),dR=dP.options.zoomDelta,dN=dQ.originalEvent.shiftKey?dO-dR:dO+dR;if(dP.options.doubleClickZoom==="center"){dP.setZoom(dN)}else{dP.setZoomAround(dQ.containerPoint,dN)}}});cb.addInitHook("addHandler","doubleClickZoom",bG);cb.mergeOptions({dragging:true,inertia:!Z,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:0.2,worldCopyJump:false,maxBoundsViscosity:0});var bK=bD.extend({addHooks:function(){if(!this._draggable){var dN=this._map;this._draggable=new dj(dN._mapPane,dN._container);this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(dN.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);dN.on("zoomend",this._onZoomEnd,this);dN.whenReady(this._onZoomEnd,this)}}ag(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){ci(this._map._container,"leaflet-grab");ci(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var dO=this._map;dO._stop();if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var dN=e(this._map.options.maxBounds);this._offsetLimit=F(this._map.latLngToContainerPoint(dN.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(dN.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}dO.fire("movestart").fire("dragstart");if(dO.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(dO){if(this._map.options.inertia){var dN=this._lastTime=+new Date(),dP=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(dP);this._times.push(dN);this._prunePositions(dN)}this._map.fire("move",dO).fire("drag",dO)},_prunePositions:function(dN){while(this._positions.length>1&&dN-this._times[0]>50){this._positions.shift();this._times.shift()}},_onZoomEnd:function(){var dO=this._map.getSize().divideBy(2),dN=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=dN.subtract(dO).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(dO,dN){return dO-(dO-dN)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var dO=this._draggable._newPos.subtract(this._draggable._startPos);var dN=this._offsetLimit;if(dO.x<dN.min.x){dO.x=this._viscousLimit(dO.x,dN.min.x)}if(dO.y<dN.min.y){dO.y=this._viscousLimit(dO.y,dN.min.y)}if(dO.x>dN.max.x){dO.x=this._viscousLimit(dO.x,dN.max.x)}if(dO.y>dN.max.y){dO.y=this._viscousLimit(dO.y,dN.max.y)}this._draggable._newPos=this._draggable._startPos.add(dO)},_onPreDragWrap:function(){var dT=this._worldWidth,dS=Math.round(dT/2),dO=this._initialWorldOffset,dN=this._draggable._newPos.x,dQ=(dN-dS+dO)%dT+dS-dO,dP=(dN+dS+dO)%dT-dS-dO,dR=Math.abs(dQ+dO)<Math.abs(dP+dO)?dQ:dP;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=dR},_onDragEnd:function(dV){var dO=this._map,dZ=dO.options,dN=!dZ.inertia||this._times.length<2;dO.fire("dragend",dV);if(dN){dO.fire("moveend")}else{this._prunePositions(+new Date());var dW=this._lastPos.subtract(this._positions[0]),dT=(this._lastTime-this._times[0])/1000,dS=dZ.easeLinearity,dR=dW.multiplyBy(dS/dT),dQ=dR.distanceTo([0,0]),dY=Math.min(dZ.inertiaMaxSpeed,dQ),dX=dR.multiplyBy(dY/dQ),dP=dY/(dZ.inertiaDeceleration*dS),dU=dX.multiplyBy(-dP/2).round();if(!dU.x&&!dU.y){dO.fire("moveend")}else{dU=dO._limitOffset(dU,dO.options.maxBounds);dE(function(){dO.panBy(dU,{duration:dP,easeLinearity:dS,noMoveStart:true,animate:true})})}}}});cb.addInitHook("addHandler","dragging",bK);cb.mergeOptions({keyboard:true,keyboardPanDelta:80});var dK=bD.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(dN){this._map=dN;this._setPanDelta(dN.options.keyboardPanDelta);this._setZoomDelta(dN.options.zoomDelta)},addHooks:function(){var dN=this._map._container;if(dN.tabIndex<=0){dN.tabIndex="0"}cu(dN,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();dF(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var dN=document.body,dQ=document.documentElement,dP=dN.scrollTop||dQ.scrollTop,dO=dN.scrollLeft||dQ.scrollLeft;this._map._container.focus();window.scrollTo(dO,dP)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(dR){var dQ=this._panKeys={},dO=this.keyCodes,dP,dN;for(dP=0,dN=dO.left.length;dP<dN;dP++){dQ[dO.left[dP]]=[-1*dR,0]}for(dP=0,dN=dO.right.length;dP<dN;dP++){dQ[dO.right[dP]]=[dR,0]}for(dP=0,dN=dO.down.length;dP<dN;dP++){dQ[dO.down[dP]]=[0,dR]}for(dP=0,dN=dO.up.length;dP<dN;dP++){dQ[dO.up[dP]]=[0,-1*dR]}},_setZoomDelta:function(dR){var dQ=this._zoomKeys={},dO=this.keyCodes,dP,dN;for(dP=0,dN=dO.zoomIn.length;dP<dN;dP++){dQ[dO.zoomIn[dP]]=dR}for(dP=0,dN=dO.zoomOut.length;dP<dN;dP++){dQ[dO.zoomOut[dP]]=-dR}},_addHooks:function(){cu(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){dF(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(dP){if(dP.altKey||dP.ctrlKey||dP.metaKey){return}var dN=dP.keyCode,dO=this._map,dQ;if(dN in this._panKeys){if(!dO._panAnim||!dO._panAnim._inProgress){dQ=this._panKeys[dN];if(dP.shiftKey){dQ=cZ(dQ).multiplyBy(3)}dO.panBy(dQ);if(dO.options.maxBounds){dO.panInsideBounds(dO.options.maxBounds)}}}else{if(dN in this._zoomKeys){dO.setZoom(dO.getZoom()+(dP.shiftKey?3:1)*this._zoomKeys[dN])}else{if(dN===27&&dO._popup&&dO._popup.options.closeOnEscapeKey){dO.closePopup()}else{return}}}bR(dP)}});cb.addInitHook("addHandler","keyboard",dK);cb.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var dr=bD.extend({addHooks:function(){cu(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){dF(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(dP){var dQ=dw(dP);var dN=this._map.options.wheelDebounceTime;this._delta+=dQ;this._lastMousePos=this._map.mouseEventToContainerPoint(dP);if(!this._startTime){this._startTime=+new Date()}var dO=Math.max(dN-(+new Date()-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(bY(this._performZoom,this),dO);bR(dP)},_performZoom:function(){var dS=this._map,dR=dS.getZoom(),dN=this._map.options.zoomSnap||0;dS._stop();var dQ=this._delta/(this._map.options.wheelPxPerZoomLevel*4),dP=4*Math.log(2/(1+Math.exp(-Math.abs(dQ))))/Math.LN2,dO=dN?Math.ceil(dP/dN)*dN:dP,dT=dS._limitZoom(dR+(this._delta>0?dO:-dO))-dR;this._delta=0;this._startTime=null;if(!dT){return}if(dS.options.scrollWheelZoom==="center"){dS.setZoom(dR+dT)}else{dS.setZoomAround(this._lastMousePos,dR+dT)}}});cb.addInitHook("addHandler","scrollWheelZoom",dr);cb.mergeOptions({tap:true,tapTolerance:15});var A=bD.extend({addHooks:function(){cu(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){dF(this._map._container,"touchstart",this._onDown,this)},_onDown:function(dO){if(!dO.touches){return}dC(dO);this._fireClick=true;if(dO.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var dP=dO.touches[0],dN=dP.target;this._startPos=this._newPos=new c5(dP.clientX,dP.clientY);if(dN.tagName&&dN.tagName.toLowerCase()==="a"){ag(dN,"leaflet-active")}this._holdTimeout=setTimeout(bY(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",dP)}},this),1000);this._simulateEvent("mousedown",dP);cu(document,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(dO){clearTimeout(this._holdTimeout);dF(document,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&dO&&dO.changedTouches){var dP=dO.changedTouches[0],dN=dP.target;if(dN&&dN.tagName&&dN.tagName.toLowerCase()==="a"){ci(dN,"leaflet-active")}this._simulateEvent("mouseup",dP);if(this._isTapValid()){this._simulateEvent("click",dP)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(dN){var dO=dN.touches[0];this._newPos=new c5(dO.clientX,dO.clientY);this._simulateEvent("mousemove",dO)},_simulateEvent:function(dN,dP){var dO=document.createEvent("MouseEvents");dO._simulated=true;dP.target._simulatedClick=true;dO.initMouseEvent(dN,true,true,window,1,dP.screenX,dP.screenY,dP.clientX,dP.clientY,false,false,false,false,0,null);dP.target.dispatchEvent(dO)}});if(bv&&!cT){cb.addInitHook("addHandler","tap",A)}cb.mergeOptions({touchZoom:bv&&!Z,bounceAtZoomLimits:true});var dM=bD.extend({addHooks:function(){ag(this._map._container,"leaflet-touch-zoom");cu(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ci(this._map._container,"leaflet-touch-zoom");dF(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(dP){var dO=this._map;if(!dP.touches||dP.touches.length!==2||dO._animatingZoom||this._zooming){return}var dQ=dO.mouseEventToContainerPoint(dP.touches[0]),dN=dO.mouseEventToContainerPoint(dP.touches[1]);this._centerPoint=dO.getSize()._divideBy(2);this._startLatLng=dO.containerPointToLatLng(this._centerPoint);if(dO.options.touchZoom!=="center"){this._pinchStartLatLng=dO.containerPointToLatLng(dQ.add(dN)._divideBy(2))}this._startDist=dQ.distanceTo(dN);this._startZoom=dO.getZoom();this._moved=false;this._zooming=true;dO._stop();cu(document,"touchmove",this._onTouchMove,this);cu(document,"touchend",this._onTouchEnd,this);dC(dP)},_onTouchMove:function(dQ){if(!dQ.touches||dQ.touches.length!==2||!this._zooming){return}var dP=this._map,dS=dP.mouseEventToContainerPoint(dQ.touches[0]),dO=dP.mouseEventToContainerPoint(dQ.touches[1]),dR=dS.distanceTo(dO)/this._startDist;this._zoom=dP.getScaleZoom(dR,this._startZoom);if(!dP.options.bounceAtZoomLimits&&((this._zoom<dP.getMinZoom()&&dR<1)||(this._zoom>dP.getMaxZoom()&&dR>1))){this._zoom=dP._limitZoom(this._zoom)}if(dP.options.touchZoom==="center"){this._center=this._startLatLng;if(dR===1){return}}else{var dT=dS._add(dO)._divideBy(2)._subtract(this._centerPoint);if(dR===1&&dT.x===0&&dT.y===0){return}this._center=dP.unproject(dP.project(this._pinchStartLatLng,this._zoom).subtract(dT),this._zoom)}if(!this._moved){dP._moveStart(true,false);this._moved=true}cY(this._animRequest);var dN=bY(dP._move,dP,this._center,this._zoom,{pinch:true,round:false});this._animRequest=dE(dN,this,true);dC(dQ)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;cY(this._animRequest);dF(document,"touchmove",this._onTouchMove);dF(document,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});cb.addInitHook("addHandler","touchZoom",dM);cb.BoxZoom=d;cb.DoubleClickZoom=bG;cb.Drag=bK;cb.Keyboard=dK;cb.ScrollWheelZoom=dr;cb.Tap=A;cb.TouchZoom=dM;Object.freeze=bi;aU.version=aZ;aU.Control=df;aU.control=aa;aU.Browser=aY;aU.Evented=ck;aU.Mixin=S;aU.Util=bP;aU.Class=bA;aU.Handler=bD;aU.extend=cv;aU.bind=bY;aU.stamp=ah;aU.setOptions=ca;aU.DomEvent=bC;aU.DomUtil=dn;aU.PosAnimation=c1;aU.Draggable=dj;aU.LineUtil=dB;aU.PolyUtil=c6;aU.Point=c5;aU.point=cZ;aU.Bounds=cs;aU.bounds=F;aU.Transformation=bg;aU.transformation=aR;aU.Projection=c2;aU.LatLng=bn;aU.latLng=de;aU.LatLngBounds=a1;aU.latLngBounds=e;aU.CRS=i;aU.GeoJSON=aJ;aU.geoJSON=b2;aU.geoJson=ch;aU.Layer=bz;aU.LayerGroup=z;aU.layerGroup=ay;aU.FeatureGroup=B;aU.featureGroup=cL;aU.ImageOverlay=cn;aU.imageOverlay=a0;aU.VideoOverlay=W;aU.videoOverlay=dc;aU.SVGOverlay=aO;aU.svgOverlay=bx;aU.DivOverlay=N;aU.Popup=cq;aU.popup=cm;aU.Tooltip=dv;aU.tooltip=aq;aU.Icon=O;aU.icon=s;aU.DivIcon=a3;aU.divIcon=co;aU.Marker=aj;aU.marker=bt;aU.TileLayer=n;aU.tileLayer=bw;aU.GridLayer=aN;aU.gridLayer=cJ;aU.SVG=bW;aU.svg=cg;aU.Renderer=dt;aU.Canvas=bL;aU.canvas=M;aU.Path=aD;aU.CircleMarker=cK;aU.circleMarker=bk;aU.Circle=a;aU.circle=ac;aU.Polyline=h;aU.polyline=ce;aU.Polygon=da;aU.polygon=R;aU.Rectangle=cN;aU.rectangle=ak;aU.Map=cb;aU.map=t;var cI=window.L;aU.noConflict=function(){window.L=cI;return this};window.L=aU})));