(function(a){if(typeof define==="function"&&define.amd){define(["jquery"],a)}else{if(typeof exports==="object"){a(require("jquery"))}else{a(window.jQuery)}}})(function(b){var a=0,d=["accepts","cache","contents","contentType","crossDomain","data","dataType","headers","ifModified","mimeType","password","processData","timeout","traditional","type","url","username"],c=function(e){return e};b.ajaxSetup({converters:{"postmessage text":c,"postmessage json":c,"postmessage html":c}});b.ajaxTransport("postmessage",function(e){if(e.postMessage&&window.postMessage){var g,i=b("<a></a>").prop("href",e.postMessage)[0],h=i.protocol+"//"+i.host,f=e.xhr().upload;if(/^(http:\/\/.+:80)|(https:\/\/.+:443)$/.test(h)){h=h.replace(/:(80|443)$/,"")}return{send:function(k,m){a+=1;var l={id:"postmessage-transport-"+a},j="message."+l.id;g=b('<iframe style="display:none;" src="'+e.postMessage+'" name="'+l.id+'"></iframe>').on("load",function(){b.each(d,function(o,n){l[n]=e[n]});l.dataType=l.dataType.replace("postmessage ","");b(window).on(j,function(o){var q=o.originalEvent;var p=q.data;var n;if(q.origin===h&&p.id===l.id){if(p.type==="progress"){n=document.createEvent("Event");n.initEvent(p.type,false,true);b.extend(n,p);f.dispatchEvent(n)}else{m(p.status,p.statusText,{postmessage:p.result},p.headers);g.remove();b(window).off(j)}}});g[0].contentWindow.postMessage(l,h)}).appendTo(document.body)},abort:function(){if(g){g.remove()}}}}})});